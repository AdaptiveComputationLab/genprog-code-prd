------------------------------------------------------------------------
r30 | jan | 2005-02-20 09:27:00 -0500 (Sun, 20 Feb 2005) | 2 lines

moved everything below trunk/ and added branches/ and tags/

------------------------------------------------------------------------
r31 | jan | 2005-02-20 09:28:26 -0500 (Sun, 20 Feb 2005) | 2 lines

forgot .cvsignore in the move 

------------------------------------------------------------------------
r32 | jan | 2005-02-20 10:02:57 -0500 (Sun, 20 Feb 2005) | 3 lines

added SERVER_ADDR, REMOTE_PORT to mod_fastcgi and mod_cgi and
REQUEST_URI to mod_cgi

------------------------------------------------------------------------
r33 | jan | 2005-02-20 11:15:41 -0500 (Sun, 20 Feb 2005) | 2 lines

added all changes to ChangeLog and NEWS

------------------------------------------------------------------------
r35 | jan | 2005-02-20 14:05:55 -0500 (Sun, 20 Feb 2005) | 2 lines

allow empty cgi.assign handler

------------------------------------------------------------------------
r36 | jan | 2005-02-21 14:51:33 -0500 (Mon, 21 Feb 2005) | 2 lines

added autogen.sh submitted by debugger@#lighttpd

------------------------------------------------------------------------
r37 | jan | 2005-02-21 15:27:02 -0500 (Mon, 21 Feb 2005) | 2 lines

config.h.in is autogenerated

------------------------------------------------------------------------
r38 | jan | 2005-02-21 19:17:11 -0500 (Mon, 21 Feb 2005) | 2 lines

fix segfault in log_error_write if host is empty

------------------------------------------------------------------------
r39 | jan | 2005-02-21 19:18:04 -0500 (Mon, 21 Feb 2005) | 3 lines

replace inet_addr() by inet_aton() as the man-page on
linux recommends and as solaris likes for SunForte

------------------------------------------------------------------------
r40 | jan | 2005-02-23 02:48:51 -0500 (Wed, 23 Feb 2005) | 2 lines

added bzip mimetypes

------------------------------------------------------------------------
r41 | jan | 2005-02-23 02:53:33 -0500 (Wed, 23 Feb 2005) | 2 lines

added note about requirement of server.document-root

------------------------------------------------------------------------
r42 | jan | 2005-02-27 17:01:13 -0500 (Sun, 27 Feb 2005) | 6 lines

moved most of the tests to run-tests.pl

- more tests
- less code to maintain
- more speed

------------------------------------------------------------------------
r43 | jan | 2005-02-27 17:10:01 -0500 (Sun, 27 Feb 2005) | 2 lines

added check for libfcgi to build special test-cases

------------------------------------------------------------------------
r44 | jan | 2005-02-27 17:13:02 -0500 (Sun, 27 Feb 2005) | 2 lines

forgot to rename check.pl to run-tests.pl

------------------------------------------------------------------------
r45 | jan | 2005-02-27 17:48:12 -0500 (Sun, 27 Feb 2005) | 2 lines

forget a 's' of the format-string (Bug #31)

------------------------------------------------------------------------
r46 | jan | 2005-02-27 19:00:55 -0500 (Sun, 27 Feb 2005) | 3 lines

added ssl.ca-file and updated error-message if private and public key don't match


------------------------------------------------------------------------
r47 | jan | 2005-02-28 03:33:38 -0500 (Mon, 28 Feb 2005) | 2 lines

removed warnings about shadowed variables

------------------------------------------------------------------------
r48 | jan | 2005-02-28 03:40:00 -0500 (Mon, 28 Feb 2005) | 6 lines

Don't use broken http_host pointer for debugging.

This circumvents a crash but is not a final fix
as the reason fo the crash hasn't been found yet.


------------------------------------------------------------------------
r49 | jan | 2005-02-28 03:42:47 -0500 (Mon, 28 Feb 2005) | 5 lines

moved external functions to *-glue.c 

this simplifies the linkage on windows and macosx
which can't reference the binary for symbols

------------------------------------------------------------------------
r50 | jan | 2005-02-28 04:04:44 -0500 (Mon, 28 Feb 2005) | 2 lines

moved SA_LEN macro to http-header-glue.c

------------------------------------------------------------------------
r51 | jan | 2005-02-28 04:32:05 -0500 (Mon, 28 Feb 2005) | 2 lines

get pidof working on linux

------------------------------------------------------------------------
r52 | jan | 2005-02-28 04:35:06 -0500 (Mon, 28 Feb 2005) | 3 lines

tolerate \n\n instead of \r\n\r\n and handle overlapping 
EOL correctly

------------------------------------------------------------------------
r53 | jan | 2005-02-28 05:36:12 -0500 (Mon, 28 Feb 2005) | 4 lines

* Changed AM_CONFIG_HEADER to AC_CONFIG_HEADER. The Manual says:
    Older versions of Automake required the use of AM_CONFIG_HEADER;
    this is no longer the case today.

------------------------------------------------------------------------
r54 | jan | 2005-02-28 05:38:16 -0500 (Mon, 28 Feb 2005) | 10 lines

* If sizeof(long) == sizeof(off_t), buffer_{append,copy}_off_t()
  are only macros to buffer_{append,copy}_long()
* ltostr() returns the string length instead of always 0
* Don't check return value of buffer_prepare_append(buffer *b), since
  it only returns -1 if b == NULL, which we do a few lines above anyway.
* Improved buffer_path_simplify(). No "dot_stack" required anymore.
  Operation can also be performed inplace.
* Check errno also against EACCES at pidfile-unlink for not logging
  a "Permission denied".

------------------------------------------------------------------------
r55 | jan | 2005-02-28 05:54:23 -0500 (Mon, 28 Feb 2005) | 2 lines

this one belongs to the last changeset

------------------------------------------------------------------------
r56 | jan | 2005-02-28 12:08:05 -0500 (Mon, 28 Feb 2005) | 2 lines

converted all tests to run-tests.pl

------------------------------------------------------------------------
r57 | jan | 2005-02-28 12:24:05 -0500 (Mon, 28 Feb 2005) | 2 lines

'modification' as ignored and handled as 'access'

------------------------------------------------------------------------
r58 | jan | 2005-02-28 12:26:33 -0500 (Mon, 28 Feb 2005) | 4 lines

parse last-modified timestamp and compare it.

let's hope that strptime() works everywhere

------------------------------------------------------------------------
r59 | jan | 2005-03-01 05:53:52 -0500 (Tue, 01 Mar 2005) | 2 lines

disable dump_packet

------------------------------------------------------------------------
r60 | jan | 2005-03-01 05:55:47 -0500 (Tue, 01 Mar 2005) | 2 lines

fixed #25 by setting all duplicates to 400

------------------------------------------------------------------------
r61 | jan | 2005-03-01 05:57:11 -0500 (Tue, 01 Mar 2005) | 2 lines

removed generated files from svn

------------------------------------------------------------------------
r62 | jan | 2005-03-01 08:37:40 -0500 (Tue, 01 Mar 2005) | 2 lines

added checks for the line-terminator handling and cleanup the configs

------------------------------------------------------------------------
r63 | jan | 2005-03-01 11:54:47 -0500 (Tue, 01 Mar 2005) | 4 lines

rewrote the event and error handling with the help of the fcgi-responder.c from the tests.

fixed #38 and other issues this way

------------------------------------------------------------------------
r64 | jan | 2005-03-01 11:57:24 -0500 (Tue, 01 Mar 2005) | 2 lines

added tests for restarting fcgi-procs after they died

------------------------------------------------------------------------
r65 | jan | 2005-03-01 12:34:13 -0500 (Tue, 01 Mar 2005) | 2 lines

added man page for spawn-fcgi and add a example for conditionals and simple-vhost

------------------------------------------------------------------------
r66 | jan | 2005-03-01 12:40:51 -0500 (Tue, 01 Mar 2005) | 2 lines

update keep-alive docs

------------------------------------------------------------------------
r67 | jan | 2005-03-01 17:16:42 -0500 (Tue, 01 Mar 2005) | 2 lines

PACKAGE -> PACKAGE_NAME (by smi)

------------------------------------------------------------------------
r68 | jan | 2005-03-01 18:01:12 -0500 (Tue, 01 Mar 2005) | 2 lines

compile fixes for MIPSpro on IRIX

------------------------------------------------------------------------
r69 | jan | 2005-03-01 18:28:21 -0500 (Tue, 01 Mar 2005) | 2 lines

get make distcheck working

------------------------------------------------------------------------
r70 | jan | 2005-03-01 18:28:52 -0500 (Tue, 01 Mar 2005) | 2 lines

updated ChangeLog and NEWS from timeline

------------------------------------------------------------------------
r71 | jan | 2005-03-02 04:11:42 -0500 (Wed, 02 Mar 2005) | 2 lines

added | to the non-rfc characters in URI

------------------------------------------------------------------------
r72 | jan | 2005-03-02 06:27:02 -0500 (Wed, 02 Mar 2005) | 2 lines

seperated the tests for each section and let run-tests.pl use Test::Harness

------------------------------------------------------------------------
r73 | jan | 2005-03-02 06:31:21 -0500 (Wed, 02 Mar 2005) | 2 lines

don't touch the exit-conditions for the loop directly (reverting a this part of one of the last changesets)

------------------------------------------------------------------------
r74 | jan | 2005-03-02 08:49:08 -0500 (Wed, 02 Mar 2005) | 7 lines

fixed handling of dead fastcgi processes if deamonized

  fixed handling of dead fastcgi process which sent their SIGCLD to
  initd and not to lighttpd. Moving the daemonize before starting
  the fastcgi procs fixes this.


------------------------------------------------------------------------
r75 | jan | 2005-03-02 08:49:54 -0500 (Wed, 02 Mar 2005) | 2 lines

moved to 1.3.12

------------------------------------------------------------------------
r77 | jan | 2005-03-02 10:50:50 -0500 (Wed, 02 Mar 2005) | 2 lines

SIGCLD -> SIGCHLD (reported by s0 and Pierre-Yves)

------------------------------------------------------------------------
r78 | jan | 2005-03-02 13:36:02 -0500 (Wed, 02 Mar 2005) | 10 lines

fixed pathinfo handling on /fcgi_pattern

* added a new option broken-scriptfilename which should be 
  enabled for PHP if PATH_INFO is needed.
* droped path_info_offset and used PATH_INFO from response.c
  directly
* set PATH_TRANSLATED only if PATH_INFO is set
* always match the extension/prefix on uri.path


------------------------------------------------------------------------
r79 | jan | 2005-03-02 13:36:32 -0500 (Wed, 02 Mar 2005) | 2 lines

strip double / on path-info

------------------------------------------------------------------------
r80 | jan | 2005-03-02 13:37:16 -0500 (Wed, 02 Mar 2005) | 2 lines

don't put download URLs in release-text for the web

------------------------------------------------------------------------
r81 | jan | 2005-03-03 06:35:27 -0500 (Thu, 03 Mar 2005) | 2 lines

skip fastcgi checks if fastcgi-proc is not available

------------------------------------------------------------------------
r82 | jan | 2005-03-03 11:59:36 -0500 (Thu, 03 Mar 2005) | 2 lines

handle remote shutdown correctly

------------------------------------------------------------------------
r83 | jan | 2005-03-03 12:17:18 -0500 (Thu, 03 Mar 2005) | 2 lines

check errno on SSL_ERROR_SYSCALL

------------------------------------------------------------------------
r84 | jan | 2005-03-03 12:33:44 -0500 (Thu, 03 Mar 2005) | 2 lines

added dir-listing.hide-dotfiles and customizable CSS for dirlisting written by smi

------------------------------------------------------------------------
r85 | jan | 2005-03-03 12:35:46 -0500 (Thu, 03 Mar 2005) | 2 lines

handle EPIPE in SSL_read as remote-close

------------------------------------------------------------------------
r86 | jan | 2005-03-03 18:33:18 -0500 (Thu, 03 Mar 2005) | 2 lines

forgot to count one test

------------------------------------------------------------------------
r87 | jan | 2005-03-03 18:52:17 -0500 (Thu, 03 Mar 2005) | 2 lines

removed called configure directly.

------------------------------------------------------------------------
r88 | jan | 2005-03-03 18:52:40 -0500 (Thu, 03 Mar 2005) | 2 lines

NAME_MAX needs sys/syslimits.h on cygwin

------------------------------------------------------------------------
r89 | jan | 2005-03-04 03:41:39 -0500 (Fri, 04 Mar 2005) | 2 lines

added $ to SERVER

------------------------------------------------------------------------
r90 | jan | 2005-03-04 05:25:43 -0500 (Fri, 04 Mar 2005) | 2 lines

ignore remove-close in freebsd sendfile()

------------------------------------------------------------------------
r91 | jan | 2005-03-04 08:10:35 -0500 (Fri, 04 Mar 2005) | 2 lines

check that conditionals and simple-vhost work together

------------------------------------------------------------------------
r92 | jan | 2005-03-04 13:38:46 -0500 (Fri, 04 Mar 2005) | 2 lines

2 rewrite tests

------------------------------------------------------------------------
r93 | jan | 2005-03-05 05:48:14 -0500 (Sat, 05 Mar 2005) | 2 lines

ignore generated files

------------------------------------------------------------------------
r94 | jan | 2005-03-05 11:24:17 -0500 (Sat, 05 Mar 2005) | 2 lines

correct the keyword for server.protocol-http11 

------------------------------------------------------------------------
r95 | jan | 2005-03-05 11:30:02 -0500 (Sat, 05 Mar 2005) | 2 lines

get usefull error-msg on SSL_read + SSL_ERROR_SYSCALL

------------------------------------------------------------------------
r96 | jan | 2005-03-05 11:30:29 -0500 (Sat, 05 Mar 2005) | 2 lines

added delayed connect() handling from mod_fastcgi

------------------------------------------------------------------------
r97 | jan | 2005-03-05 12:06:18 -0500 (Sat, 05 Mar 2005) | 2 lines

fixed message to print configure + make

------------------------------------------------------------------------
r98 | jan | 2005-03-06 06:20:35 -0500 (Sun, 06 Mar 2005) | 2 lines

fixed NULL dereference in logfile cycling if accesslog is not set

------------------------------------------------------------------------
r99 | jan | 2005-03-06 06:22:14 -0500 (Sun, 06 Mar 2005) | 2 lines

drop unused files and added the checks for mod-rewrite

------------------------------------------------------------------------
r100 | jan | 2005-03-06 06:22:44 -0500 (Sun, 06 Mar 2005) | 2 lines

prepare for 1.3.13

------------------------------------------------------------------------
r101 | jan | 2005-03-06 06:28:40 -0500 (Sun, 06 Mar 2005) | 2 lines

added all changes from trac-timeline

------------------------------------------------------------------------
r102 | jan | 2005-03-06 06:28:57 -0500 (Sun, 06 Mar 2005) | 2 lines

updated .cvsignore

------------------------------------------------------------------------
r103 | jan | 2005-03-06 06:51:14 -0500 (Sun, 06 Mar 2005) | 2 lines

fixed check for running process

------------------------------------------------------------------------
r104 | jan | 2005-03-06 06:56:14 -0500 (Sun, 06 Mar 2005) | 2 lines

updated the NEWS for the important changes in 1.3.13

------------------------------------------------------------------------
r106 | jan | 2005-03-06 08:03:21 -0500 (Sun, 06 Mar 2005) | 2 lines

strings.h -> string.h

------------------------------------------------------------------------
r107 | jan | 2005-03-06 08:03:38 -0500 (Sun, 06 Mar 2005) | 2 lines

fixed complaints from lintian

------------------------------------------------------------------------
r108 | jan | 2005-03-09 11:35:35 -0500 (Wed, 09 Mar 2005) | 2 lines

fixed segfault in cleanup if mod_proxy is loaded but not used

------------------------------------------------------------------------
r109 | jan | 2005-03-09 15:57:56 -0500 (Wed, 09 Mar 2005) | 2 lines

fixed conditional setenv.add-environment

------------------------------------------------------------------------
r111 | jan | 2005-03-14 06:22:13 -0500 (Mon, 14 Mar 2005) | 2 lines

added tests for keep-alive, post requests in cgi and setenv

------------------------------------------------------------------------
r157 | jan | 2005-03-16 04:27:06 -0500 (Wed, 16 Mar 2005) | 2 lines

commited WebDAV methods

------------------------------------------------------------------------
r159 | jan | 2005-03-16 04:43:47 -0500 (Wed, 16 Mar 2005) | 2 lines

merged r158 

------------------------------------------------------------------------
r167 | jan | 2005-03-16 14:50:31 -0500 (Wed, 16 Mar 2005) | 2 lines

added get-header.pl, used by the cgi-tests

------------------------------------------------------------------------
r168 | jan | 2005-03-16 16:27:43 -0500 (Wed, 16 Mar 2005) | 2 lines

set all ips to localhost

------------------------------------------------------------------------
r169 | jan | 2005-03-16 16:28:45 -0500 (Wed, 16 Mar 2005) | 2 lines

merged post-upload-cleanup

------------------------------------------------------------------------
r170 | jan | 2005-03-16 16:59:38 -0500 (Wed, 16 Mar 2005) | 2 lines

ported mod_proxy to streaming

------------------------------------------------------------------------
r171 | jan | 2005-03-16 18:20:49 -0500 (Wed, 16 Mar 2005) | 2 lines

terminate write_buffer

------------------------------------------------------------------------
r172 | jan | 2005-03-17 06:38:50 -0500 (Thu, 17 Mar 2005) | 9 lines

maintain the file-cache

- whenever you change physical.path, remove the old fce and 
  add a new one
- this takes care of the fds used by the fce
- a chunk_append_file() adds a references to the fce and 
  removes it are chunk_reset() again automaticly


------------------------------------------------------------------------
r173 | jan | 2005-03-17 07:33:14 -0500 (Thu, 17 Mar 2005) | 2 lines

added missing parameter and the header 

------------------------------------------------------------------------
r174 | jan | 2005-03-17 07:33:30 -0500 (Thu, 17 Mar 2005) | 2 lines

missed the stdio.h for the SEGFAULT()

------------------------------------------------------------------------
r175 | jan | 2005-03-17 07:34:01 -0500 (Thu, 17 Mar 2005) | 2 lines

fixed the reset of the unused fce

------------------------------------------------------------------------
r176 | jan | 2005-03-17 10:28:51 -0500 (Thu, 17 Mar 2005) | 4 lines

added usertrack.cooke-max-age, usertrack.cooke-domain

Fixed bug #46

------------------------------------------------------------------------
r177 | jan | 2005-03-18 17:41:33 -0500 (Fri, 18 Mar 2005) | 2 lines

cache stats for directories too

------------------------------------------------------------------------
r178 | jan | 2005-03-18 17:42:47 -0500 (Fri, 18 Mar 2005) | 5 lines

added mod_indexfile.c and mod_dirlisting.c and move all 
options from response.c to them

added mod_trigger_b4_dl.c to fight hotlinking

------------------------------------------------------------------------
r179 | jan | 2005-03-18 17:51:58 -0500 (Fri, 18 Mar 2005) | 2 lines

added seperated mod_indexfile and mod_dirlisting

------------------------------------------------------------------------
r180 | jan | 2005-03-18 17:52:21 -0500 (Fri, 18 Mar 2005) | 2 lines

this just confuses

------------------------------------------------------------------------
r181 | jan | 2005-03-18 17:52:46 -0500 (Fri, 18 Mar 2005) | 2 lines

the examples aren't distributed anymore

------------------------------------------------------------------------
r182 | jan | 2005-03-18 19:09:18 -0500 (Fri, 18 Mar 2005) | 2 lines

check for libgdbm if requested with --with-gdbm

------------------------------------------------------------------------
r183 | jan | 2005-03-18 19:09:41 -0500 (Fri, 18 Mar 2005) | 2 lines

fixed possible uninit variables of the config-parser fails

------------------------------------------------------------------------
r184 | jan | 2005-03-18 19:18:39 -0500 (Fri, 18 Mar 2005) | 2 lines

if pcre-support is missing, complain if the configfile uses a regex-conditional

------------------------------------------------------------------------
r185 | jan | 2005-03-19 08:23:30 -0500 (Sat, 19 Mar 2005) | 2 lines

added more debug for request-handling

------------------------------------------------------------------------
r186 | jan | 2005-03-19 08:24:40 -0500 (Sat, 19 Mar 2005) | 2 lines

if no indexfile is found restore old FCE

------------------------------------------------------------------------
r187 | jan | 2005-03-19 08:25:19 -0500 (Sat, 19 Mar 2005) | 2 lines

a direct file request has to have a valid request-line

------------------------------------------------------------------------
r188 | jan | 2005-03-19 08:44:39 -0500 (Sat, 19 Mar 2005) | 2 lines

added dirlisting and indexfiles to default config

------------------------------------------------------------------------
r189 | jan | 2005-03-19 08:45:38 -0500 (Sat, 19 Mar 2005) | 2 lines

changed config for dirlisting and indexfiles

------------------------------------------------------------------------
r190 | jan | 2005-03-19 08:46:40 -0500 (Sat, 19 Mar 2005) | 3 lines

more verbose information what is going to be built and dumped version to 1.4.0


------------------------------------------------------------------------
r191 | jan | 2005-03-19 09:05:48 -0500 (Sat, 19 Mar 2005) | 2 lines

get word2line conversion running on FreeBSD

------------------------------------------------------------------------
r192 | jan | 2005-03-19 09:47:07 -0500 (Sat, 19 Mar 2005) | 2 lines

int -> size_t and replaced NAME_MAX by pathconf() if possible

------------------------------------------------------------------------
r193 | jan | 2005-03-19 09:47:29 -0500 (Sat, 19 Mar 2005) | 2 lines

removed unused headers

------------------------------------------------------------------------
r194 | jan | 2005-03-19 09:52:12 -0500 (Sat, 19 Mar 2005) | 2 lines

check for pathconf

------------------------------------------------------------------------
r195 | jan | 2005-03-19 13:08:05 -0500 (Sat, 19 Mar 2005) | 2 lines

added more error-messages

------------------------------------------------------------------------
r196 | jan | 2005-03-19 18:45:53 -0500 (Sat, 19 Mar 2005) | 2 lines

only basic and digest are valid method, check that

------------------------------------------------------------------------
r197 | jan | 2005-03-20 05:45:51 -0500 (Sun, 20 Mar 2005) | 2 lines

cleanup the db from time to time

------------------------------------------------------------------------
r198 | jan | 2005-03-20 13:24:48 -0500 (Sun, 20 Mar 2005) | 2 lines

moved everything for static files into mod_staticfile

------------------------------------------------------------------------
r199 | jan | 2005-03-20 13:25:06 -0500 (Sun, 20 Mar 2005) | 2 lines

added missing )

------------------------------------------------------------------------
r200 | jan | 2005-03-25 11:57:47 -0500 (Fri, 25 Mar 2005) | 2 lines

added a mtime_ts cache and don't segfault if fce is empty in fce_release_entry

------------------------------------------------------------------------
r201 | jan | 2005-03-25 11:58:45 -0500 (Fri, 25 Mar 2005) | 2 lines

added new option to leave stderr open for fprintf() debugging

------------------------------------------------------------------------
r202 | jan | 2005-03-25 11:59:43 -0500 (Fri, 25 Mar 2005) | 2 lines

removed debug messages and only set 403 if now plugin is handling the request

------------------------------------------------------------------------
r203 | jan | 2005-03-25 12:00:38 -0500 (Fri, 25 Mar 2005) | 2 lines

Mark the request is finished

------------------------------------------------------------------------
r204 | jan | 2005-03-25 12:01:52 -0500 (Fri, 25 Mar 2005) | 2 lines

dropped the physical-path handler. This will be replaced by the filter hinterface

------------------------------------------------------------------------
r205 | jan | 2005-03-25 12:02:18 -0500 (Fri, 25 Mar 2005) | 2 lines

added a assertion and missing headers

------------------------------------------------------------------------
r206 | jan | 2005-03-25 12:02:48 -0500 (Fri, 25 Mar 2005) | 2 lines

check at least a few parameters

------------------------------------------------------------------------
r207 | jan | 2005-03-25 12:04:05 -0500 (Fri, 25 Mar 2005) | 2 lines

only mark the request as finished AFTER we received the header of the CGI response and read in the full packet if possible

------------------------------------------------------------------------
r208 | jan | 2005-03-25 12:05:46 -0500 (Fri, 25 Mar 2005) | 2 lines

put LFS defines in CPPFLAGS as before 

------------------------------------------------------------------------
r209 | jan | 2005-03-25 12:06:03 -0500 (Fri, 25 Mar 2005) | 2 lines

load mod_staticfile

------------------------------------------------------------------------
r210 | jan | 2005-03-25 12:56:19 -0500 (Fri, 25 Mar 2005) | 2 lines

added staticfile to handle the successfull authed requests

------------------------------------------------------------------------
r211 | jan | 2005-03-25 12:56:41 -0500 (Fri, 25 Mar 2005) | 2 lines

mod-compress is currently not working

------------------------------------------------------------------------
r212 | jan | 2005-03-25 12:58:25 -0500 (Fri, 25 Mar 2005) | 7 lines

fixed HEAD, Range and double handling

- HEAD request are executed in the same way as GET but dropping the content
  add the full file
- Range requests are finished directly
- only handle files, that are not handled by another module 

------------------------------------------------------------------------
r213 | jan | 2005-03-25 13:29:55 -0500 (Fri, 25 Mar 2005) | 2 lines

features.txt has been dropped

------------------------------------------------------------------------
r214 | jan | 2005-03-25 13:30:16 -0500 (Fri, 25 Mar 2005) | 2 lines

added missing files

------------------------------------------------------------------------
r215 | jan | 2005-03-27 03:58:44 -0500 (Sun, 27 Mar 2005) | 2 lines

added the upload-progress module

------------------------------------------------------------------------
r216 | jan | 2005-03-27 03:59:20 -0500 (Sun, 27 Mar 2005) | 2 lines

report that we need to wait for an event

------------------------------------------------------------------------
r217 | jan | 2005-03-27 04:01:38 -0500 (Sun, 27 Mar 2005) | 4 lines

move the post_data_fetched to base as mod_uploadprogress need it and only request an event in mod_cgi if we really need it



------------------------------------------------------------------------
r218 | jan | 2005-03-27 04:02:19 -0500 (Sun, 27 Mar 2005) | 2 lines

add debug info if the fce is still in use as this should not really happen

------------------------------------------------------------------------
r219 | jan | 2005-03-27 12:28:12 -0500 (Sun, 27 Mar 2005) | 2 lines

mod_staticfile is a big default

------------------------------------------------------------------------
r220 | jan | 2005-03-27 16:48:48 -0500 (Sun, 27 Mar 2005) | 2 lines

added to_upper and to_lower

------------------------------------------------------------------------
r221 | jan | 2005-03-27 16:49:09 -0500 (Sun, 27 Mar 2005) | 2 lines

don't set physical.path directly

------------------------------------------------------------------------
r222 | jan | 2005-03-27 16:50:19 -0500 (Sun, 27 Mar 2005) | 2 lines

handle lower-case filesystems as HPFS, NTFS and FAT

------------------------------------------------------------------------
r223 | jan | 2005-03-27 16:50:48 -0500 (Sun, 27 Mar 2005) | 2 lines

added missing header

------------------------------------------------------------------------
r224 | jan | 2005-03-27 16:51:12 -0500 (Sun, 27 Mar 2005) | 2 lines

added more details handling of waitpid()

------------------------------------------------------------------------
r225 | jan | 2005-03-27 17:57:03 -0500 (Sun, 27 Mar 2005) | 2 lines

fixed deleting of old records

------------------------------------------------------------------------
r226 | jan | 2005-03-28 03:30:05 -0500 (Mon, 28 Mar 2005) | 2 lines

added docs for upload-progress and added SVN rev/data too all docs

------------------------------------------------------------------------
r227 | jan | 2005-03-28 03:46:41 -0500 (Mon, 28 Mar 2005) | 2 lines

added docs for trigger_b4_dl

------------------------------------------------------------------------
r228 | jan | 2005-03-28 05:24:38 -0500 (Mon, 28 Mar 2005) | 7 lines

dropped plugin_handle_joblist as the plugins will handle their events directly

only request a EVENT if you really need it: 
- fd->is_writable = 0 and we have something for writing.
- for the first write out
- when we want to read something

------------------------------------------------------------------------
r229 | jan | 2005-03-28 05:25:31 -0500 (Mon, 28 Mar 2005) | 2 lines

drop the handle_joblist (belongs to previous changeset)

------------------------------------------------------------------------
r230 | jan | 2005-03-28 05:36:37 -0500 (Mon, 28 Mar 2005) | 2 lines

added static-file.exclude-extension

------------------------------------------------------------------------
r231 | jan | 2005-03-28 05:37:49 -0500 (Mon, 28 Mar 2005) | 2 lines

update the default config and renamed server.force-lowercase-filenames

------------------------------------------------------------------------
r232 | jan | 2005-03-28 05:38:49 -0500 (Mon, 28 Mar 2005) | 2 lines

added no-unused-parameters to suppress the unused param warning at compile time

------------------------------------------------------------------------
r233 | jan | 2005-03-28 07:39:16 -0500 (Mon, 28 Mar 2005) | 2 lines

fixed some mem-leaks be shutdown

------------------------------------------------------------------------
r234 | jan | 2005-03-28 07:39:56 -0500 (Mon, 28 Mar 2005) | 2 lines

strdup() on a binary string ? not so clever, i think

------------------------------------------------------------------------
r235 | jan | 2005-03-28 07:50:31 -0500 (Mon, 28 Mar 2005) | 2 lines

removed the emergency exit warnings

------------------------------------------------------------------------
r236 | jan | 2005-03-28 10:46:22 -0500 (Mon, 28 Mar 2005) | 2 lines

Opera doesn't support sendRequestHeader(), using a QUERY_STRING solves this

------------------------------------------------------------------------
r237 | jan | 2005-03-28 10:46:59 -0500 (Mon, 28 Mar 2005) | 2 lines

renamed config.c to configfile.c to keep it consistent

------------------------------------------------------------------------
r238 | jan | 2005-03-28 10:51:35 -0500 (Mon, 28 Mar 2005) | 2 lines

dg: if no content has been sent if a error occurs just send a 500 and redirect STDERR of CGI into logfile of lighttpd

------------------------------------------------------------------------
r239 | jan | 2005-03-29 07:05:06 -0500 (Tue, 29 Mar 2005) | 2 lines

added initgroups to join the groups of the user after setuid()

------------------------------------------------------------------------
r240 | jan | 2005-03-29 07:05:37 -0500 (Tue, 29 Mar 2005) | 2 lines

nesting is not support yet

------------------------------------------------------------------------
r241 | jan | 2005-03-30 05:23:50 -0500 (Wed, 30 Mar 2005) | 2 lines

buffer_append_url|html_encoded need a length 

------------------------------------------------------------------------
r242 | jan | 2005-03-30 05:24:32 -0500 (Wed, 30 Mar 2005) | 2 lines

don't use the global range_buf anymore

------------------------------------------------------------------------
r243 | jan | 2005-03-30 05:26:21 -0500 (Wed, 30 Mar 2005) | 2 lines

added support for HTTPremoteip

------------------------------------------------------------------------
r244 | jan | 2005-03-30 13:13:33 -0500 (Wed, 30 Mar 2005) | 2 lines

reorg once an hour and fixed double usage of the same loop-var

------------------------------------------------------------------------
r245 | jan | 2005-03-31 03:02:49 -0500 (Thu, 31 Mar 2005) | 2 lines

make uri.authority lowercase (aka http_host)

------------------------------------------------------------------------
r246 | jan | 2005-04-02 08:15:39 -0500 (Sat, 02 Apr 2005) | 2 lines

removed debug

------------------------------------------------------------------------
r247 | jan | 2005-04-02 08:35:25 -0500 (Sat, 02 Apr 2005) | 2 lines

if the startup fails don't segfault on cleanup

------------------------------------------------------------------------
r248 | jan | 2005-04-02 08:35:56 -0500 (Sat, 02 Apr 2005) | 2 lines

only check HTTPhost condition if we really have a Host: set

------------------------------------------------------------------------
r249 | jan | 2005-04-02 08:46:14 -0500 (Sat, 02 Apr 2005) | 2 lines

plural for the option name if it is an array

------------------------------------------------------------------------
r250 | jan | 2005-04-02 08:51:13 -0500 (Sat, 02 Apr 2005) | 2 lines

tell the user to read UPGRADING-1.4.0.txt

------------------------------------------------------------------------
r251 | jan | 2005-04-03 05:04:08 -0400 (Sun, 03 Apr 2005) | 2 lines

changed index-file.extensions to index-file.names

------------------------------------------------------------------------
r252 | jan | 2005-04-03 11:41:23 -0400 (Sun, 03 Apr 2005) | 2 lines

fixed compile errors with gcc 2.95 and debian woody

------------------------------------------------------------------------
r253 | jan | 2005-04-05 06:41:05 -0400 (Tue, 05 Apr 2005) | 2 lines

added starttls patch for auth-ldap (Dick Davies)

------------------------------------------------------------------------
r254 | jan | 2005-04-05 06:44:15 -0400 (Tue, 05 Apr 2005) | 2 lines

ca-file is required for starttls

------------------------------------------------------------------------
r255 | jan | 2005-04-05 14:32:42 -0400 (Tue, 05 Apr 2005) | 3 lines

limit the size of the STDIN packet when fetching POST data
to FCGI_MAX_LENGTH

------------------------------------------------------------------------
r256 | jan | 2005-04-06 08:20:49 -0400 (Wed, 06 Apr 2005) | 2 lines

set read and write handler and request events on state-change

------------------------------------------------------------------------
r257 | jan | 2005-04-07 14:52:59 -0400 (Thu, 07 Apr 2005) | 2 lines

fixed usage of the same loop-var in nested loops

------------------------------------------------------------------------
r258 | jan | 2005-04-09 05:39:20 -0400 (Sat, 09 Apr 2005) | 2 lines

provide more usefull error-msg if default-docroot doesn't exist

------------------------------------------------------------------------
r259 | jan | 2005-04-09 05:44:01 -0400 (Sat, 09 Apr 2005) | 2 lines

fixed error-handler for ECONREFUSED

------------------------------------------------------------------------
r260 | jan | 2005-04-09 05:44:18 -0400 (Sat, 09 Apr 2005) | 2 lines

added missing header

------------------------------------------------------------------------
r261 | jan | 2005-04-09 05:52:23 -0400 (Sat, 09 Apr 2005) | 2 lines

files are auto-generated

------------------------------------------------------------------------
r262 | jan | 2005-04-09 06:31:02 -0400 (Sat, 09 Apr 2005) | 2 lines

fixed compilation on mingw, linking of plugins is still a problem

------------------------------------------------------------------------
r263 | jan | 2005-04-09 10:07:12 -0400 (Sat, 09 Apr 2005) | 2 lines

enable non-blocking io on windows

------------------------------------------------------------------------
r264 | jan | 2005-04-09 10:53:41 -0400 (Sat, 09 Apr 2005) | 2 lines

added a mod_negotiation

------------------------------------------------------------------------
r265 | jan | 2005-04-09 12:14:26 -0400 (Sat, 09 Apr 2005) | 2 lines

removed useless comment

------------------------------------------------------------------------
r266 | jan | 2005-04-09 12:15:16 -0400 (Sat, 09 Apr 2005) | 2 lines

compare extensions in mimetype case-insensitive

------------------------------------------------------------------------
r267 | jan | 2005-04-09 12:33:19 -0400 (Sat, 09 Apr 2005) | 2 lines

duplication config-vars and duplicate array key are a error now

------------------------------------------------------------------------
r268 | jan | 2005-04-09 12:47:40 -0400 (Sat, 09 Apr 2005) | 2 lines

study pcre pattern (fixes #92) and handle broken regex as parse-error

------------------------------------------------------------------------
r269 | jan | 2005-04-09 12:56:32 -0400 (Sat, 09 Apr 2005) | 2 lines

handle missing pcre-support + regex-conditionals at parse-time

------------------------------------------------------------------------
r270 | jan | 2005-04-09 13:14:35 -0400 (Sat, 09 Apr 2005) | 2 lines

added initgroups to spawn-fcgi.c to really close #78

------------------------------------------------------------------------
r271 | jan | 2005-04-09 14:09:04 -0400 (Sat, 09 Apr 2005) | 2 lines

added conditional for remoteip

------------------------------------------------------------------------
r272 | jan | 2005-04-10 08:57:20 -0400 (Sun, 10 Apr 2005) | 2 lines

added missing header

------------------------------------------------------------------------
r273 | moo | 2005-04-13 14:19:20 -0400 (Wed, 13 Apr 2005) | 1 line

correctly return FDEVENT_HANDLED_ERROR so it won't stuck
------------------------------------------------------------------------
r274 | jan | 2005-04-13 14:30:49 -0400 (Wed, 13 Apr 2005) | 3 lines

http://www.faqs.org/rfcs/rfc3534.html lists the mimetype
for .ogg as application/ogg. fixes bug #95

------------------------------------------------------------------------
r275 | jan | 2005-04-14 15:50:45 -0400 (Thu, 14 Apr 2005) | 2 lines

added missing space in request header sent to the backend server

------------------------------------------------------------------------
r279 | jan | 2005-04-15 02:57:40 -0400 (Fri, 15 Apr 2005) | 2 lines

fixed typo

------------------------------------------------------------------------
r281 | jan | 2005-04-15 03:58:05 -0400 (Fri, 15 Apr 2005) | 2 lines

only assign active hosts

------------------------------------------------------------------------
r282 | moo | 2005-04-15 04:03:54 -0400 (Fri, 15 Apr 2005) | 3 lines

fix 404 when some condition is missing evhost.path-pattern


------------------------------------------------------------------------
r284 | moo | 2005-04-15 04:10:21 -0400 (Fri, 15 Apr 2005) | 3 lines

new handler: handle_physical
prefix alias, not only for directory. mod_alias no longer DOCUMENT_ROOT now.

------------------------------------------------------------------------
r286 | moo | 2005-04-15 13:08:10 -0400 (Fri, 15 Apr 2005) | 2 lines

add volitate sig_atomic_t vars

------------------------------------------------------------------------
r287 | moo | 2005-04-15 13:09:45 -0400 (Fri, 15 Apr 2005) | 2 lines

O_BINARY for cygwin's dos-text mount point

------------------------------------------------------------------------
r288 | moo | 2005-04-15 13:19:55 -0400 (Fri, 15 Apr 2005) | 2 lines

indent array for readability

------------------------------------------------------------------------
r289 | moo | 2005-04-16 01:53:45 -0400 (Sat, 16 Apr 2005) | 3 lines

index-file.extensions renamed as index-file.names


------------------------------------------------------------------------
r293 | jan | 2005-04-21 18:56:08 -0400 (Thu, 21 Apr 2005) | 2 lines

added mimetype for svn and fixed typo in mod_indexfile

------------------------------------------------------------------------
r294 | moo | 2005-04-21 23:41:15 -0400 (Thu, 21 Apr 2005) | 1 line

initize physical.basedir(part of [284])
------------------------------------------------------------------------
r295 | moo | 2005-04-23 11:24:45 -0400 (Sat, 23 Apr 2005) | 2 lines

patch_connection in config_context order, instead of config_patches

------------------------------------------------------------------------
r296 | moo | 2005-04-23 12:51:16 -0400 (Sat, 23 Apr 2005) | 1 line

fix mysql -Iinclude path
------------------------------------------------------------------------
r297 | moo | 2005-04-23 14:25:14 -0400 (Sat, 23 Apr 2005) | 2 lines

remove warnning for unused variable (part of [295])

------------------------------------------------------------------------
r298 | moo | 2005-04-23 14:32:23 -0400 (Sat, 23 Apr 2005) | 4 lines

nesting/chaining condition
new config item: debug.log-condition-handling


------------------------------------------------------------------------
r299 | moo | 2005-04-24 13:06:52 -0400 (Sun, 24 Apr 2005) | 3 lines

remove duplicate fastcgi.debug error


------------------------------------------------------------------------
r300 | jan | 2005-04-24 23:08:23 -0400 (Sun, 24 Apr 2005) | 2 lines

mysql 4.0.15 and below only provide --cflags

------------------------------------------------------------------------
r301 | jan | 2005-04-25 00:19:24 -0400 (Mon, 25 Apr 2005) | 2 lines

if we don't include base.h we have to handle the absence of O_BINARY ourself

------------------------------------------------------------------------
r302 | jan | 2005-04-25 07:13:11 -0400 (Mon, 25 Apr 2005) | 2 lines

add ca-file, mention --with-openssl and talk about apache migration

------------------------------------------------------------------------
r303 | jan | 2005-04-25 07:16:15 -0400 (Mon, 25 Apr 2005) | 2 lines

removed typos

------------------------------------------------------------------------
r304 | jan | 2005-04-25 19:00:48 -0400 (Mon, 25 Apr 2005) | 2 lines

use the correct syntax to specify a external link

------------------------------------------------------------------------
r305 | moo | 2005-04-28 07:01:22 -0400 (Thu, 28 Apr 2005) | 2 lines

buffer_init_buffer(), simple yet useful

------------------------------------------------------------------------
r306 | moo | 2005-04-28 07:11:09 -0400 (Thu, 28 Apr 2005) | 3 lines

the copy constructor for array/element-data.
array_replace() to update or insert array element.

------------------------------------------------------------------------
r307 | moo | 2005-04-28 07:40:03 -0400 (Thu, 28 Apr 2005) | 4 lines

user defined variable, compute on parsing: string+string, int+int, array+array, var+=expression.
"include" sub configuration file.
closed #11.

------------------------------------------------------------------------
r308 | moo | 2005-04-28 07:52:00 -0400 (Thu, 28 Apr 2005) | 2 lines

new condition syntax: nesting(and)/chaining(elseif)

------------------------------------------------------------------------
r309 | jan | 2005-04-28 07:55:26 -0400 (Thu, 28 Apr 2005) | 6 lines

moved most of the tests to run-tests.pl

- more tests
- less code to maintain
- more speed

------------------------------------------------------------------------
r310 | jan | 2005-04-28 08:39:46 -0400 (Thu, 28 Apr 2005) | 5 lines

replace hstrerror() by nothing. The function is obsolete 
without any alternatives. If someone knows one, shoot.

Fixed #75

------------------------------------------------------------------------
r311 | jan | 2005-04-28 08:55:12 -0400 (Thu, 28 Apr 2005) | 2 lines

strncmp is a macro and needs all 3 params here. expanding CONST_STR_LEN by hand helps

------------------------------------------------------------------------
r312 | jan | 2005-04-28 09:04:42 -0400 (Thu, 28 Apr 2005) | 2 lines

allow numbers in the header names

------------------------------------------------------------------------
r313 | moo | 2005-04-28 09:30:31 -0400 (Thu, 28 Apr 2005) | 3 lines

change "|" to "else"


------------------------------------------------------------------------
r314 | moo | 2005-04-28 09:59:23 -0400 (Thu, 28 Apr 2005) | 2 lines

const 1st arg for copy/print

------------------------------------------------------------------------
r315 | moo | 2005-04-28 10:02:27 -0400 (Thu, 28 Apr 2005) | 2 lines

make sure variable is copied after fetch. fix stupid testcase error.

------------------------------------------------------------------------
r316 | jan | 2005-04-30 01:35:30 -0400 (Sat, 30 Apr 2005) | 2 lines

fixed #96

------------------------------------------------------------------------
r319 | moo | 2005-04-30 02:25:43 -0400 (Sat, 30 Apr 2005) | 2 lines

check stream buffer size in EOL processing, cuz it's not zero terminated string.

------------------------------------------------------------------------
r321 | moo | 2005-05-02 04:26:25 -0400 (Mon, 02 May 2005) | 2 lines

fix double free crash on parser error.

------------------------------------------------------------------------
r322 | moo | 2005-05-02 06:46:35 -0400 (Mon, 02 May 2005) | 2 lines

[321] shouldn't break good config

------------------------------------------------------------------------
r323 | moo | 2005-05-02 08:09:51 -0400 (Mon, 02 May 2005) | 2 lines

ignore *.loT and 2 parser produced header

------------------------------------------------------------------------
r324 | moo | 2005-05-03 07:47:32 -0400 (Tue, 03 May 2005) | 2 lines

indention for %type, %token_type, %token_destructor

------------------------------------------------------------------------
r325 | moo | 2005-05-03 09:13:15 -0400 (Tue, 03 May 2005) | 2 lines

fix memleak parsing on config error.

------------------------------------------------------------------------
r326 | moo | 2005-05-03 09:14:56 -0400 (Tue, 03 May 2005) | 2 lines

fix memory leak for du->copy(du)

------------------------------------------------------------------------
r327 | moo | 2005-05-03 09:34:33 -0400 (Tue, 03 May 2005) | 2 lines

correct [326], should be freeing value not key

------------------------------------------------------------------------
r328 | moo | 2005-05-03 12:10:48 -0400 (Tue, 03 May 2005) | 2 lines

free config_storage

------------------------------------------------------------------------
r329 | moo | 2005-05-03 13:32:29 -0400 (Tue, 03 May 2005) | 2 lines

SIGINT for CTRL-C, exit nicely

------------------------------------------------------------------------
r330 | moo | 2005-05-03 13:35:27 -0400 (Tue, 03 May 2005) | 2 lines

-p for print, -t for test.  new option to help testing your config.

------------------------------------------------------------------------
r331 | moo | 2005-05-03 13:40:16 -0400 (Tue, 03 May 2005) | 2 lines

srv->config_patches is no longer used. was abandoned [295]

------------------------------------------------------------------------
r332 | moo | 2005-05-03 13:47:25 -0400 (Tue, 03 May 2005) | 2 lines

array.is_weakref, set to 1 to use array as a const void pointer storage (no free)

------------------------------------------------------------------------
r333 | moo | 2005-05-03 13:51:05 -0400 (Tue, 03 May 2005) | 2 lines

free cond_results_cache, introduced by [308]

------------------------------------------------------------------------
r334 | moo | 2005-05-03 14:03:09 -0400 (Tue, 03 May 2005) | 2 lines

condition optimization: replace all is_equal be simple == to an enum

------------------------------------------------------------------------
r335 | moo | 2005-05-03 14:14:44 -0400 (Tue, 03 May 2005) | 2 lines

use dc->comp instead of dc->comp_key, according to [334]

------------------------------------------------------------------------
r336 | moo | 2005-05-03 14:18:41 -0400 (Tue, 03 May 2005) | 2 lines

readable improvement print for array/data_*

------------------------------------------------------------------------
r337 | moo | 2005-05-03 14:27:55 -0400 (Tue, 03 May 2005) | 2 lines

context->configs_stack use is_weakref, instead of the old dirty NULL way.

------------------------------------------------------------------------
r338 | moo | 2005-05-03 14:31:59 -0400 (Tue, 03 May 2005) | 2 lines

comp_key_t, part of [335]

------------------------------------------------------------------------
r339 | moo | 2005-05-03 14:33:18 -0400 (Tue, 03 May 2005) | 2 lines

comp_key_t, part of previous [338]

------------------------------------------------------------------------
r340 | moo | 2005-05-03 14:33:53 -0400 (Tue, 03 May 2005) | 2 lines

enable "_" char for env.* (also for var.*)

------------------------------------------------------------------------
r341 | moo | 2005-05-03 21:34:28 -0400 (Tue, 03 May 2005) | 2 lines

testcase for env.*

------------------------------------------------------------------------
r344 | moo | 2005-05-05 13:51:39 -0400 (Thu, 05 May 2005) | 2 lines

remove duplicate print of "else blocks"

------------------------------------------------------------------------
r345 | jan | 2005-05-07 09:28:42 -0400 (Sat, 07 May 2005) | 2 lines

added a comment about order of plugins is important

------------------------------------------------------------------------
r346 | jan | 2005-05-07 09:30:04 -0400 (Sat, 07 May 2005) | 2 lines

old gcc doesn't like the macro in  strncmp

------------------------------------------------------------------------
r347 | jan | 2005-05-07 09:30:26 -0400 (Sat, 07 May 2005) | 2 lines

WebDAV needs status 207

------------------------------------------------------------------------
r348 | moo | 2005-05-07 23:37:07 -0400 (Sat, 07 May 2005) | 2 lines

typo: mimetypes -> mimetype

------------------------------------------------------------------------
r352 | moo | 2005-05-10 22:39:22 -0400 (Tue, 10 May 2005) | 2 lines

use switch() on dc->comp instead of bunch of if()

------------------------------------------------------------------------
r353 | moo | 2005-05-12 13:58:54 -0400 (Thu, 12 May 2005) | 2 lines

con->dst_addr_buf, cached result for inet_ntop

------------------------------------------------------------------------
r355 | jan | 2005-05-23 03:51:26 -0400 (Mon, 23 May 2005) | 2 lines

typos

------------------------------------------------------------------------
r358 | moo | 2005-05-26 04:21:00 -0400 (Thu, 26 May 2005) | 2 lines

don't process post data yet for HANDLE_COMEBACK, there're more action to decide what to do with the post.

------------------------------------------------------------------------
r359 | moo | 2005-05-28 23:39:40 -0400 (Sat, 28 May 2005) | 2 lines

revert part of [353] (cond_cache shouldn't commit yet)

------------------------------------------------------------------------
r373 | jan | 2005-06-06 17:19:25 -0400 (Mon, 06 Jun 2005) | 2 lines

authentification -> authentication

------------------------------------------------------------------------
r398 | jan | 2005-06-26 06:37:46 -0400 (Sun, 26 Jun 2005) | 2 lines

fixed detection of broken sendfile() (fixes #135)

------------------------------------------------------------------------
r402 | jan | 2005-06-26 08:06:32 -0400 (Sun, 26 Jun 2005) | 2 lines

init f->start in case stat() fails

------------------------------------------------------------------------
r403 | jan | 2005-06-26 08:06:57 -0400 (Sun, 26 Jun 2005) | 2 lines

added dir-listing.encoding and dir-listing.show-readme

------------------------------------------------------------------------
r404 | jan | 2005-06-26 08:14:09 -0400 (Sun, 26 Jun 2005) | 2 lines

added docs for mod_dirlisting

------------------------------------------------------------------------
r405 | jan | 2005-06-26 08:14:37 -0400 (Sun, 26 Jun 2005) | 2 lines

encoded README.txt

------------------------------------------------------------------------
r406 | jan | 2005-06-26 08:48:40 -0400 (Sun, 26 Jun 2005) | 4 lines

trust s_len in html_encode

needed for appending of file-content

------------------------------------------------------------------------
r407 | jan | 2005-06-26 08:49:03 -0400 (Sun, 26 Jun 2005) | 2 lines

we already know namelen, use it instead if strlen()

------------------------------------------------------------------------
r411 | jan | 2005-06-27 15:34:18 -0400 (Mon, 27 Jun 2005) | 2 lines

merged [410], don't segfault in error-msg if syslog() should be used

------------------------------------------------------------------------
r414 | jan | 2005-07-04 03:09:01 -0400 (Mon, 04 Jul 2005) | 2 lines

fd as readable and writable by default. The edge triggered event-handlers need this behaviour.

------------------------------------------------------------------------
r415 | moo | 2005-07-04 03:26:21 -0400 (Mon, 04 Jul 2005) | 3 lines

Performance: pcre study for redirect/rewrite


------------------------------------------------------------------------
r416 | jan | 2005-07-04 05:21:59 -0400 (Mon, 04 Jul 2005) | 2 lines

call the SETSIG for rtsig after the daemonize()

------------------------------------------------------------------------
r417 | moo | 2005-07-04 05:51:13 -0400 (Mon, 04 Jul 2005) | 2 lines

void copying buffer in condition checking

------------------------------------------------------------------------
r418 | moo | 2005-07-04 06:04:14 -0400 (Mon, 04 Jul 2005) | 2 lines

make $HTTP["host"] = or != "host" to match all port.

------------------------------------------------------------------------
r419 | moo | 2005-07-05 05:32:14 -0400 (Tue, 05 Jul 2005) | 2 lines

fix crash introduced by conf.final

------------------------------------------------------------------------
r420 | moo | 2005-07-05 08:02:30 -0400 (Tue, 05 Jul 2005) | 2 lines

fix double free

------------------------------------------------------------------------
r444 | moo | 2005-07-13 06:42:25 -0400 (Wed, 13 Jul 2005) | 2 lines

give out error when something like "/a" is preceding "/abc"

------------------------------------------------------------------------
r462 | moo | 2005-07-16 22:26:28 -0400 (Sat, 16 Jul 2005) | 2 lines

stdio for fprintf

------------------------------------------------------------------------
r506 | moo | 2005-08-08 06:00:24 -0400 (Mon, 08 Aug 2005) | 2 lines

include_shell option support in configuration

------------------------------------------------------------------------
r510 | moo | 2005-08-08 06:26:13 -0400 (Mon, 08 Aug 2005) | 2 lines

mod_redirect/mod_rewrite substitute %n with condition substring

------------------------------------------------------------------------
r513 | moo | 2005-08-08 06:30:02 -0400 (Mon, 08 Aug 2005) | 2 lines

pathinfo test

------------------------------------------------------------------------
r1348 | darix | 2006-10-03 08:48:52 -0400 (Tue, 03 Oct 2006) | 1 line

- revert all changes back to the branchpoint
------------------------------------------------------------------------
r1349 | darix | 2006-10-03 08:56:39 -0400 (Tue, 03 Oct 2006) | 1 line

- merged lighttpd-merge-1.4.x so we finally work in trunk/ ! yeah \o/
------------------------------------------------------------------------
r1393 | jan | 2006-11-08 21:55:34 -0500 (Wed, 08 Nov 2006) | 4 lines

linux AIO support

- added a copy-fd-struct

------------------------------------------------------------------------
r1394 | jan | 2006-11-08 21:58:32 -0500 (Wed, 08 Nov 2006) | 12 lines

Linux AIO support

* network_linux_aio.c, network_backends.h, network.c
  - added a Async IO read() based on libaio
* SConscript
  - link against libaio and pthread
* connections.c
  - handle NETWORK_STATUS_WAIT_FOR_AIO_EVENT
* base.h
  - added NETWORK_STATUS_WAIT_FOR_AIO_EVENT
  - added a global libaio context

------------------------------------------------------------------------
r1395 | jan | 2006-11-08 21:59:23 -0500 (Wed, 08 Nov 2006) | 4 lines

Linux AIO support

- added threaded aio-event handler

------------------------------------------------------------------------
r1396 | jan | 2006-11-08 22:58:16 -0500 (Wed, 08 Nov 2006) | 2 lines

added compile fix if libaio + headers are not installed on linux

------------------------------------------------------------------------
r1397 | jan | 2006-11-08 22:58:34 -0500 (Wed, 08 Nov 2006) | 2 lines

added check for libaio.h

------------------------------------------------------------------------
r1398 | jan | 2006-11-09 08:27:11 -0500 (Thu, 09 Nov 2006) | 2 lines

reset the copy-length on chunk_reset()

------------------------------------------------------------------------
r1399 | jan | 2006-11-09 10:06:27 -0500 (Thu, 09 Nov 2006) | 2 lines

fixed the file-send for writev

------------------------------------------------------------------------
r1400 | jan | 2006-11-09 10:11:27 -0500 (Thu, 09 Nov 2006) | 2 lines

got it working again (same problem as network_writev)

------------------------------------------------------------------------
r1401 | jan | 2006-11-10 07:17:41 -0500 (Fri, 10 Nov 2006) | 2 lines

fixed crash when aio is used in a daemon-mode

------------------------------------------------------------------------
r1402 | jan | 2006-11-10 08:57:10 -0500 (Fri, 10 Nov 2006) | 2 lines

don't report a "400 Bad Request" on connection shutdown after keep-alive

------------------------------------------------------------------------
r1403 | jan | 2006-11-10 09:23:50 -0500 (Fri, 10 Nov 2006) | 4 lines

- disconnect from the terminal and point stdout and stderr to /dev/null
- close only the fds which are really open (and don't try to brute force
  3..256)

------------------------------------------------------------------------
r1404 | jan | 2006-11-10 09:56:34 -0500 (Fri, 10 Nov 2006) | 2 lines

fixed off-by-one when send the FastCGI header

------------------------------------------------------------------------
r1405 | jan | 2006-11-10 10:19:28 -0500 (Fri, 10 Nov 2006) | 2 lines

use 1 instead of 0 as request-id

------------------------------------------------------------------------
r1407 | jan | 2006-11-11 15:31:31 -0500 (Sat, 11 Nov 2006) | 2 lines

free static openssl structs (EVP, ERR, Crypto, ..) 

------------------------------------------------------------------------
r1408 | jan | 2006-11-11 15:32:21 -0500 (Sat, 11 Nov 2006) | 2 lines

each address only handles one connection at a time

------------------------------------------------------------------------
r1409 | jan | 2006-11-11 15:33:40 -0500 (Sat, 11 Nov 2006) | 2 lines

reuse existing data-string values if available

------------------------------------------------------------------------
r1410 | jan | 2006-11-11 15:35:11 -0500 (Sat, 11 Nov 2006) | 2 lines

added hock to intercept the response content

------------------------------------------------------------------------
r1411 | jan | 2006-11-11 15:36:59 -0500 (Sat, 11 Nov 2006) | 2 lines

added keep-alive support for fastcgi

------------------------------------------------------------------------
r1412 | jan | 2006-11-11 15:41:26 -0500 (Sat, 11 Nov 2006) | 12 lines

fixed ...

- if a backend connection free's up, hand it to one of the sleeping
  connections.
- read the response content as part of the state-handling instead of as
  part of the event handler. If the content is small, we won't get a
  event as the content is part of the header-packet.
- send request-header and the start of request-body in a single writev()
  packet. [required for fastcgi to work]



------------------------------------------------------------------------
r1413 | jan | 2006-11-11 16:02:24 -0500 (Sat, 11 Nov 2006) | 2 lines

added configure checks for libaio

------------------------------------------------------------------------
r1414 | jan | 2006-11-11 16:08:48 -0500 (Sat, 11 Nov 2006) | 2 lines

disabled the old cml, cgi, fastcgi, scgi and proxy modules

------------------------------------------------------------------------
r1415 | jan | 2006-11-11 17:35:52 -0500 (Sat, 11 Nov 2006) | 4 lines

use the official names for the balancers

hash is CARP and fair is SQF

------------------------------------------------------------------------
r1416 | jan | 2006-11-13 08:01:43 -0500 (Mon, 13 Nov 2006) | 2 lines

512k seems to be the optimal size of pre-buffering 

------------------------------------------------------------------------
r1417 | jan | 2006-11-13 08:02:10 -0500 (Mon, 13 Nov 2006) | 2 lines

handle the wait-for-event from the content-read

------------------------------------------------------------------------
r1418 | jan | 2006-11-13 08:02:46 -0500 (Mon, 13 Nov 2006) | 3 lines

decode all fastcgi STDOUT packets as we want to write them out the
client in one chunk

------------------------------------------------------------------------
r1419 | jan | 2006-11-13 08:03:09 -0500 (Mon, 13 Nov 2006) | 2 lines

removed extra debug message

------------------------------------------------------------------------
r1420 | jan | 2006-11-13 08:15:52 -0500 (Mon, 13 Nov 2006) | 2 lines

added missing CRLF after the final chunked packet

------------------------------------------------------------------------
r1421 | jan | 2006-11-13 09:08:10 -0500 (Mon, 13 Nov 2006) | 3 lines

update the cq statistics otherwise we get a wrong picture of what is in
the cq right now

------------------------------------------------------------------------
r1422 | jan | 2006-11-13 13:58:23 -0500 (Mon, 13 Nov 2006) | 2 lines

fixed the SQF balancer

------------------------------------------------------------------------
r1423 | jan | 2006-11-13 14:26:14 -0500 (Mon, 13 Nov 2006) | 2 lines

"Expect" is a hop-to-hop header

------------------------------------------------------------------------
r1424 | jan | 2006-11-13 15:28:28 -0500 (Mon, 13 Nov 2006) | 3 lines

POST requests might have tempfiles which we want to send with
aio-sendfile. make the switch() aware of it

------------------------------------------------------------------------
r1425 | jan | 2006-11-13 15:28:59 -0500 (Mon, 13 Nov 2006) | 2 lines

steal the request-body tempfile-chunk from the incoming queue

------------------------------------------------------------------------
r1426 | jan | 2006-11-13 15:29:37 -0500 (Mon, 13 Nov 2006) | 3 lines

don't send the data to /dev/null if another module wants to handle the
content

------------------------------------------------------------------------
r1427 | jan | 2006-11-13 17:40:08 -0500 (Mon, 13 Nov 2006) | 4 lines

fixed bug where we tried to send a chunk which was already send, a
second time [and crashed]
 

------------------------------------------------------------------------
r1428 | jan | 2006-11-13 18:46:34 -0500 (Mon, 13 Nov 2006) | 3 lines

be a nice fdevent-handler and use the joblist-handler of the mainloop,
just call joblist_append()

------------------------------------------------------------------------
r1429 | jan | 2006-11-13 18:46:59 -0500 (Mon, 13 Nov 2006) | 2 lines

provide a useful error-msg on socket-fd out

------------------------------------------------------------------------
r1430 | jan | 2006-11-13 18:48:01 -0500 (Mon, 13 Nov 2006) | 3 lines

fallback the synchronous sendfile() in case of async fails for some
reason

------------------------------------------------------------------------
r1431 | jan | 2006-11-13 18:48:40 -0500 (Mon, 13 Nov 2006) | 2 lines

report out-of-fds (EMFILE) nicely and handle it in the mainloop as usual

------------------------------------------------------------------------
r1432 | jan | 2006-11-13 19:35:23 -0500 (Mon, 13 Nov 2006) | 6 lines

get the test-suite working again

- removed all references to mod_fastcgi, mod_cgi, ...
- we can't handle the response of Except: 100 in the test-suite yet
- disabled all non-working modules for now

------------------------------------------------------------------------
r1433 | jan | 2006-11-13 20:18:02 -0500 (Mon, 13 Nov 2006) | 7 lines

merged [1332] and [1290]

- only run symlink checks if we should not follow them.
- added the follow-symlink into the hash-key
- delete all versions if a file/dir is moved or deleted


------------------------------------------------------------------------
r1434 | jan | 2006-11-13 20:18:20 -0500 (Mon, 13 Nov 2006) | 2 lines

removed debug messages

------------------------------------------------------------------------
r1435 | jan | 2006-11-13 20:20:25 -0500 (Mon, 13 Nov 2006) | 3 lines

the fastcgi tests aren't working right now, so don't compile the
test-programs either

------------------------------------------------------------------------
r1436 | jan | 2006-11-14 03:45:55 -0500 (Tue, 14 Nov 2006) | 2 lines

fixed possible seg-fault 

------------------------------------------------------------------------
r1437 | jan | 2006-11-14 06:40:01 -0500 (Tue, 14 Nov 2006) | 5 lines

added chunk-stealing

- instead copying a from buffer to buffer to move it.
  this reduced the number allocations and copy-operations

------------------------------------------------------------------------
r1438 | jan | 2006-11-14 20:18:53 -0500 (Tue, 14 Nov 2006) | 10 lines

fixed linux-aio support

- the iocb submitted by io_submit() was on the stack only was invalid
  when getevents was called 
- the return-value of getevents() for a iocb was not handled
- everything in async-io has to aligned to the page-size, otherwise we
  will get EINVAL
- send everything up to the last (size % page-size) bytes with async-io
  and fall back to classic sendfile() for the last few bytes

------------------------------------------------------------------------
r1439 | jan | 2006-11-14 20:20:41 -0500 (Tue, 14 Nov 2006) | 5 lines

fixed malloc()/free() storm for the HTTP headers parsers

- insert in the r->headers directly
- reuse old array-items instead of creating new ones and deleting the old 

------------------------------------------------------------------------
r1440 | jan | 2006-11-15 00:15:25 -0500 (Wed, 15 Nov 2006) | 3 lines

- async-io was always sending the first 512k, fixed
- disable updating of the atime (O_NOATIME)

------------------------------------------------------------------------
r1441 | jan | 2006-11-15 07:14:47 -0500 (Wed, 15 Nov 2006) | 5 lines

more fixes for linux-aio

- fixed overlapping of blocks 
- fixed offset fo the final sendfile() call

------------------------------------------------------------------------
r1442 | jan | 2006-11-15 12:00:17 -0500 (Wed, 15 Nov 2006) | 3 lines

added more debug-info in case io-getevents() returns a failure for a
io-submit() call

------------------------------------------------------------------------
r1443 | jan | 2006-11-15 12:01:31 -0500 (Wed, 15 Nov 2006) | 4 lines

- added support for server.use-noatime
- added alignment check in case we are unaligned after a fallback to
  sendfile()

------------------------------------------------------------------------
r1444 | jan | 2006-11-15 12:13:40 -0500 (Wed, 15 Nov 2006) | 2 lines

fixed error-msgs for invalid proxy-core.balancer and .protocol

------------------------------------------------------------------------
r1445 | jan | 2006-11-15 13:24:30 -0500 (Wed, 15 Nov 2006) | 2 lines

moved buffer_pool() functions to buffer.h

------------------------------------------------------------------------
r1446 | jan | 2006-11-15 13:25:26 -0500 (Wed, 15 Nov 2006) | 4 lines

- moved buffer-pool() functions to buffer.c
- reset the header array between parsing runs
- free last token

------------------------------------------------------------------------
r1447 | jan | 2006-11-15 13:26:26 -0500 (Wed, 15 Nov 2006) | 2 lines

use a pool for the unused buffers and reuse them along the line

------------------------------------------------------------------------
r1448 | jan | 2006-11-15 13:26:46 -0500 (Wed, 15 Nov 2006) | 2 lines

include the invalid hostname in the error-msg

------------------------------------------------------------------------
r1449 | jan | 2006-11-15 13:27:10 -0500 (Wed, 15 Nov 2006) | 2 lines

close the connection after we had a parse error in the HTTP-request

------------------------------------------------------------------------
r1450 | jan | 2006-11-15 16:24:47 -0500 (Wed, 15 Nov 2006) | 2 lines

handle connection close from a HTTP/1.0 backend

------------------------------------------------------------------------
r1451 | jan | 2006-11-15 16:46:39 -0500 (Wed, 15 Nov 2006) | 3 lines

check if we have place for a iocb before we start getting a mmap(), a
tempfile and so on

------------------------------------------------------------------------
r1452 | jan | 2006-11-15 16:48:13 -0500 (Wed, 15 Nov 2006) | 2 lines

added a hack to get the current number of open fds

------------------------------------------------------------------------
r1453 | jan | 2006-11-15 16:48:59 -0500 (Wed, 15 Nov 2006) | 2 lines

removed debug-msg for the read-timeouts

------------------------------------------------------------------------
r1454 | jan | 2006-11-15 17:42:43 -0500 (Wed, 15 Nov 2006) | 2 lines

accepts a duplicate Host: header if it is the same value

------------------------------------------------------------------------
r1455 | jan | 2006-11-18 10:44:02 -0500 (Sat, 18 Nov 2006) | 2 lines

added a rip-off of linux-aio-sendfile based on posix-aio

------------------------------------------------------------------------
r1456 | jan | 2006-11-18 12:05:40 -0500 (Sat, 18 Nov 2006) | 2 lines

got rid of sendfile() and use aio_write() instead

------------------------------------------------------------------------
r1457 | jan | 2006-11-18 12:06:25 -0500 (Sat, 18 Nov 2006) | 2 lines

added check for aio_suspend and the lib providing it to configure

------------------------------------------------------------------------
r1458 | moo | 2006-11-20 19:25:54 -0500 (Mon, 20 Nov 2006) | 1 line

accept args in autogen.sh, e.g.: --version
------------------------------------------------------------------------
r1459 | jan | 2006-11-24 08:46:40 -0500 (Fri, 24 Nov 2006) | 2 lines

fixed the error-reporting 

------------------------------------------------------------------------
r1460 | jan | 2006-11-27 08:50:36 -0500 (Mon, 27 Nov 2006) | 6 lines

fixed unix-domain socket support (fixes #912, patch from jakabosky)

- get the real address-length instead of the size of the struct-union
- fixes the connect()-error on BSDs
- enables unix:/... support

------------------------------------------------------------------------
r1461 | jan | 2006-11-27 19:16:32 -0500 (Mon, 27 Nov 2006) | 2 lines

fixed compilation for POSIX AIO on macosx

------------------------------------------------------------------------
r1462 | jan | 2006-11-28 09:54:47 -0500 (Tue, 28 Nov 2006) | 2 lines

increased the number of iocbs to 128

------------------------------------------------------------------------
r1463 | jan | 2006-11-28 09:55:47 -0500 (Tue, 28 Nov 2006) | 4 lines

- disabled aio_write() on the socket and use the classic non-blocking
  write() instead
- fallback to blocking read() in case we are out of iocbs

------------------------------------------------------------------------
r1464 | jan | 2006-11-28 09:58:09 -0500 (Tue, 28 Nov 2006) | 2 lines

disabled O_DIRECT for posix-aio 

------------------------------------------------------------------------
r1465 | jakabosky | 2006-12-12 17:13:38 -0500 (Tue, 12 Dec 2006) | 5 lines

converted mod_proxy_backend_xxx's into loadable modules.
added backend scgi
rewrote http-chunked and fastcgi decoding
added support for X-LIGHTTPD-send-tempfile

------------------------------------------------------------------------
r1466 | darix | 2006-12-12 18:23:58 -0500 (Tue, 12 Dec 2006) | 1 line

- fix a few warnings with unused variables
------------------------------------------------------------------------
r1467 | darix | 2006-12-12 18:32:25 -0500 (Tue, 12 Dec 2006) | 1 line

- fix a small signed comparison warning
------------------------------------------------------------------------
r1468 | jakabosky | 2006-12-12 20:44:01 -0500 (Tue, 12 Dec 2006) | 2 lines

fixed compile error for gcc 2.96

------------------------------------------------------------------------
r1469 | jakabosky | 2006-12-13 01:18:03 -0500 (Wed, 13 Dec 2006) | 2 lines

updated fastcgi/proxy settings to use mod_proxy_core

------------------------------------------------------------------------
r1470 | jakabosky | 2006-12-14 00:18:45 -0500 (Thu, 14 Dec 2006) | 2 lines

fixed bug with file uploads(large request content)

------------------------------------------------------------------------
r1471 | jakabosky | 2006-12-14 15:29:21 -0500 (Thu, 14 Dec 2006) | 2 lines

added error message.

------------------------------------------------------------------------
r1472 | jakabosky | 2006-12-14 17:42:22 -0500 (Thu, 14 Dec 2006) | 2 lines

replaced SEGFAULT() with return HANDLER_ERROR

------------------------------------------------------------------------
r1474 | jakabosky | 2006-12-17 22:03:23 -0500 (Sun, 17 Dec 2006) | 2 lines

only call pthread_join when using aio_backend

------------------------------------------------------------------------
r1475 | jakabosky | 2006-12-17 22:04:37 -0500 (Sun, 17 Dec 2006) | 2 lines

ajp13 protocol backend to mod_proxy_core.

------------------------------------------------------------------------
r1476 | jan | 2006-12-18 05:53:52 -0500 (Mon, 18 Dec 2006) | 2 lines

improved error-msg for the backend protocols

------------------------------------------------------------------------
r1477 | jan | 2006-12-18 05:54:17 -0500 (Mon, 18 Dec 2006) | 2 lines

fixed packaging with "make distcheck" and compile with scons

------------------------------------------------------------------------
r1479 | glen | 2006-12-19 10:14:36 -0500 (Tue, 19 Dec 2006) | 1 line

added now and weeks support to mod_expire. refs #943
------------------------------------------------------------------------
r1480 | jakabosky | 2006-12-20 00:12:04 -0500 (Wed, 20 Dec 2006) | 2 lines

fixed segv bug. added null end record to header lists.

------------------------------------------------------------------------
r1481 | jan | 2006-12-20 03:47:23 -0500 (Wed, 20 Dec 2006) | 3 lines

on freebsd aio-suspend is in the libc and we have to make sure that
-pthread is still passed appended to the LDFLAGS in that case

------------------------------------------------------------------------
r1482 | jan | 2006-12-20 05:30:24 -0500 (Wed, 20 Dec 2006) | 2 lines

don't include the query-string in the req_uri variable

------------------------------------------------------------------------
r1483 | jan | 2006-12-25 09:02:46 -0500 (Mon, 25 Dec 2006) | 2 lines

added cmake based build-system

------------------------------------------------------------------------
r1484 | jan | 2006-12-25 09:32:14 -0500 (Mon, 25 Dec 2006) | 9 lines

added ctest support

* src/CMakeLists.txt, CMakeLists.txt
  - moved ctest setup to the top-cmakelist.txt
* src/CMakeLists.txt
  - fixed compile for modules with more than one source-file
* tests/CMakeLists.txt
  - added all tests

------------------------------------------------------------------------
r1485 | jan | 2006-12-25 09:34:05 -0500 (Mon, 25 Dec 2006) | 2 lines

get rid of fprintf() in favour of ERROR()

------------------------------------------------------------------------
r1486 | jan | 2006-12-25 13:46:21 -0500 (Mon, 25 Dec 2006) | 2 lines

fixed compile with cmake if none of the optional libs is installed 

------------------------------------------------------------------------
r1487 | jan | 2006-12-25 15:35:44 -0500 (Mon, 25 Dec 2006) | 2 lines

added more checks to really map all checks from autoconf

------------------------------------------------------------------------
r1488 | jan | 2006-12-26 11:26:35 -0500 (Tue, 26 Dec 2006) | 2 lines

cleaned the source packaging

------------------------------------------------------------------------
r1489 | jan | 2006-12-26 11:27:16 -0500 (Tue, 26 Dec 2006) | 3 lines

- added OPTIONS for all optional features
- added a static compile option

------------------------------------------------------------------------
r1490 | jan | 2006-12-26 11:27:51 -0500 (Tue, 26 Dec 2006) | 2 lines

- unified static and dynamic loading of modules

------------------------------------------------------------------------
r1491 | jan | 2006-12-28 14:25:28 -0500 (Thu, 28 Dec 2006) | 2 lines

fixed autoconf + pcre 

------------------------------------------------------------------------
r1493 | darix | 2006-12-29 00:34:34 -0500 (Fri, 29 Dec 2006) | 3 lines

- Handle DragonFlyBSD the same way as Freebsd.
  Patch by Jörg Sonnenberger

------------------------------------------------------------------------
r1494 | darix | 2006-12-29 18:38:18 -0500 (Fri, 29 Dec 2006) | 1 line

- merged a few fixes from the 1.4.x branch to trunk
------------------------------------------------------------------------
r1495 | darix | 2006-12-29 18:40:50 -0500 (Fri, 29 Dec 2006) | 1 line

- make sure GNU_SOURCE is defined where needed
------------------------------------------------------------------------
r1496 | darix | 2006-12-29 18:46:30 -0500 (Fri, 29 Dec 2006) | 1 line

- cleanup trailing whitespaces
------------------------------------------------------------------------
r1497 | darix | 2006-12-29 19:11:40 -0500 (Fri, 29 Dec 2006) | 1 line

- merged missing parts of the "print config to stdout" changes
------------------------------------------------------------------------
r1498 | moo | 2007-01-02 00:25:24 -0500 (Tue, 02 Jan 2007) | 2 lines

fix undefined LIBUUID when with_uuid=off

------------------------------------------------------------------------
r1499 | moo | 2007-01-02 00:28:42 -0500 (Tue, 02 Jan 2007) | 2 lines

mod_compress: avoid crash on stat failure

------------------------------------------------------------------------
r1502 | jakabosky | 2007-01-04 23:43:40 -0500 (Thu, 04 Jan 2007) | 5 lines

Moved HTTP/1.1 chunk encoding into plugin mod_chunked
Created filter chain API for mod_chunked and mod_deflate.
Added new handle_filter_response_content hook to plugin API.


------------------------------------------------------------------------
r1503 | jakabosky | 2007-01-06 01:59:03 -0500 (Sat, 06 Jan 2007) | 6 lines

fixed bugs in mod_chunked, Mostly just code cleanup.
Added mod_deflate, ported from patch for lighttpd 1.4.13
Content-Length header is removed from backend response and re-generated
since mod_deflate will change the length.


------------------------------------------------------------------------
r1504 | glen | 2007-01-06 17:48:43 -0500 (Sat, 06 Jan 2007) | 1 line

typo
------------------------------------------------------------------------
r1505 | darix | 2007-01-08 05:51:07 -0500 (Mon, 08 Jan 2007) | 1 line

- removed excessive newline ;)
------------------------------------------------------------------------
r1506 | darix | 2007-01-08 05:52:47 -0500 (Mon, 08 Jan 2007) | 3 lines

 r1538@h2o:  darix | 2007-01-08 11:50:03 +0100
 - readd the newline

------------------------------------------------------------------------
r1507 | jakabosky | 2007-01-08 23:04:26 -0500 (Mon, 08 Jan 2007) | 2 lines

Fixed bug with double free of proxy_connection.

------------------------------------------------------------------------
r1508 | jakabosky | 2007-01-09 02:15:13 -0500 (Tue, 09 Jan 2007) | 2 lines

fixed bug with freeing backend proxy connection.

------------------------------------------------------------------------
r1509 | jakabosky | 2007-01-09 22:36:57 -0500 (Tue, 09 Jan 2007) | 4 lines

Fix for X-Sendfile feature.
Added more backend connection cleanup code to mod_proxy_core


------------------------------------------------------------------------
r1510 | jakabosky | 2007-01-09 22:57:26 -0500 (Tue, 09 Jan 2007) | 2 lines

fix for traffic_limit bug.

------------------------------------------------------------------------
r1511 | jakabosky | 2007-01-10 22:10:49 -0500 (Wed, 10 Jan 2007) | 5 lines

add support for T_CONFIG_INT.
change "server.max-request-size" from SHORT type to INT type.
fixed internal redirect from one proxy-core request to another.


------------------------------------------------------------------------
r1512 | jakabosky | 2007-01-12 01:21:05 -0500 (Fri, 12 Jan 2007) | 3 lines

Added support for X-Rewrite-Backend to support creation of proxy-core backends dynamicly.


------------------------------------------------------------------------
r1513 | jakabosky | 2007-01-12 18:03:32 -0500 (Fri, 12 Jan 2007) | 2 lines

Fixed bug with X-Sendfile.

------------------------------------------------------------------------
r1514 | jakabosky | 2007-01-13 05:13:05 -0500 (Sat, 13 Jan 2007) | 4 lines

Improved status reporting from:
Bjoern Kalkbrenner <terminar@cyberphoria.org>


------------------------------------------------------------------------
r1515 | jakabosky | 2007-01-14 03:21:26 -0500 (Sun, 14 Jan 2007) | 3 lines

fixed a few bugs with the connection pool and backlog.
Added proxy-core.max-keep-alive-requests option.

------------------------------------------------------------------------
r1517 | darix | 2007-01-14 04:46:33 -0500 (Sun, 14 Jan 2007) | 2 lines

- allow empty passwords with ldap. 
  patch by Jöerg Sonnenberger
------------------------------------------------------------------------
r1518 | darix | 2007-01-14 04:55:38 -0500 (Sun, 14 Jan 2007) | 2 lines

- fix a crash for files with an mtime of 0
  reported by cubiq on irc
------------------------------------------------------------------------
r1520 | jakabosky | 2007-01-14 06:09:11 -0500 (Sun, 14 Jan 2007) | 2 lines

if proxy-core.protocol is set, then require proxy-core.balancer.

------------------------------------------------------------------------
r1521 | jakabosky | 2007-01-14 22:49:51 -0500 (Sun, 14 Jan 2007) | 3 lines

Fixed major bug with p->conf settings getting replaced by other requests.
Cleaned up some error messages.

------------------------------------------------------------------------
r1522 | jakabosky | 2007-01-15 19:03:37 -0500 (Mon, 15 Jan 2007) | 2 lines

fixed bug when backend closes socket after sending response headers.

------------------------------------------------------------------------
r1523 | jakabosky | 2007-01-16 23:05:44 -0500 (Tue, 16 Jan 2007) | 2 lines

replace/insert request header "Host" based on X-Rewrite-Host

------------------------------------------------------------------------
r1524 | darix | 2007-01-20 15:50:39 -0500 (Sat, 20 Jan 2007) | 6 lines

 r1560@h2o:  darix | 2007-01-20 21:49:29 +0100
 - applied patch from Jani Tiainen <jani.tiainen@keypro.fi>
   + config.h support
   + support for lemon generated files
 - added more pattern to svn:ignore

------------------------------------------------------------------------
r1525 | jan | 2007-01-23 19:18:51 -0500 (Tue, 23 Jan 2007) | 2 lines

added mod_deflate to the cmake build

------------------------------------------------------------------------
r1526 | jan | 2007-01-27 07:59:59 -0500 (Sat, 27 Jan 2007) | 6 lines

removed strlen() from the array_get_element() 

* *.c
  - use CONST_STR_LEN() as most strlen()s are already known
  - use BUF_STR_LEN() for the buffer

------------------------------------------------------------------------
r1527 | jan | 2007-01-27 08:28:55 -0500 (Sat, 27 Jan 2007) | 2 lines

in 1.4.x it is X-LIGHTTPD-send-file, be compatible with that

------------------------------------------------------------------------
r1528 | jan | 2007-01-27 09:14:55 -0500 (Sat, 27 Jan 2007) | 6 lines

added $PHYSICAL["path"] and $HTTP["request-method"]

* configparser.y
  - added the new options and added alternative names for user-agent,
    remote-ip and query-string

------------------------------------------------------------------------
r1529 | jan | 2007-01-27 09:21:45 -0500 (Sat, 27 Jan 2007) | 2 lines

don't require a value for proxy-core.balancer, assume round-robin

------------------------------------------------------------------------
r1530 | jan | 2007-01-27 09:31:14 -0500 (Sat, 27 Jan 2007) | 3 lines

added support for client-certs to auth against the ldap-server (taken
from #761)

------------------------------------------------------------------------
r1531 | jan | 2007-01-27 11:07:29 -0500 (Sat, 27 Jan 2007) | 3 lines

reverted a small part of [1522] as it breaks the normal operation of the
HTTP/1.0 proxying if Connection: close is set

------------------------------------------------------------------------
r1532 | jan | 2007-01-27 11:51:48 -0500 (Sat, 27 Jan 2007) | 2 lines

added fcgi-stat-accel to the distribution

------------------------------------------------------------------------
r1533 | jan | 2007-01-27 13:39:04 -0500 (Sat, 27 Jan 2007) | 2 lines

added fcgi-stat-accel and spawn-fcgi to the build

------------------------------------------------------------------------
r1534 | jan | 2007-01-27 13:41:32 -0500 (Sat, 27 Jan 2007) | 8 lines

fixed out-of-fd detection

instead of testing activly if we will run out of fds soon we just let it
fail once and handle it nicely by disabling the sockets as usual.

* network*.c
  - let the network-backends complain about not getting a FD

------------------------------------------------------------------------
r1535 | jan | 2007-01-27 16:17:05 -0500 (Sat, 27 Jan 2007) | 2 lines

build fcgi-stat-accel in case we have libfcgi

------------------------------------------------------------------------
r1536 | jan | 2007-01-27 16:20:13 -0500 (Sat, 27 Jan 2007) | 4 lines

announce that we have no content to send in case of a parse-error in the
HTTP-Request


------------------------------------------------------------------------
r1537 | jan | 2007-01-27 19:13:31 -0500 (Sat, 27 Jan 2007) | 6 lines

moved the reset of the content-queue right before we write the content
to the network as all filters might want to know if there was content
and set the Content-Length accordingly.



------------------------------------------------------------------------
r1538 | jan | 2007-01-28 07:47:12 -0500 (Sun, 28 Jan 2007) | 3 lines

fixed checks for libfcgi and the different locations of the
fastcgi-headers

------------------------------------------------------------------------
r1539 | jan | 2007-01-28 09:34:41 -0500 (Sun, 28 Jan 2007) | 2 lines

added static balancer ( submitted by uwe.voelker@gmx.de )

------------------------------------------------------------------------
r1540 | darix | 2007-01-28 14:11:05 -0500 (Sun, 28 Jan 2007) | 1 line

- applied missing chunk from the static balancer patch
------------------------------------------------------------------------
r1541 | jan | 2007-01-29 13:10:29 -0500 (Mon, 29 Jan 2007) | 2 lines

added option to enable/disable libfcgi support for fcgi-stat-accel

------------------------------------------------------------------------
r1542 | jan | 2007-01-29 13:11:05 -0500 (Mon, 29 Jan 2007) | 2 lines

swapped params in dup2() (fixed #988)

------------------------------------------------------------------------
r1543 | jakabosky | 2007-01-29 20:28:33 -0500 (Mon, 29 Jan 2007) | 3 lines

replaced deflate.bzip2 option with deflate.allowed_encodings.
allowed_encodings is an array with the compression types to enable.

------------------------------------------------------------------------
r1544 | jakabosky | 2007-01-29 22:00:02 -0500 (Mon, 29 Jan 2007) | 4 lines

Fixed major bug with compressing chunks with offset > 0 or when deflate.work-block-size > 0 is used
(fixed #986)


------------------------------------------------------------------------
r1545 | jakabosky | 2007-01-29 23:16:33 -0500 (Mon, 29 Jan 2007) | 3 lines

fixed bug with "server.upload-dirs" (fixed #993)
tempfile chunks are allocated from con->recv no con->recv_raw

------------------------------------------------------------------------
r1546 | jan | 2007-01-30 05:50:44 -0500 (Tue, 30 Jan 2007) | 2 lines

copied mod_magnet from the 1.4.x branch

------------------------------------------------------------------------
r1547 | jan | 2007-01-30 06:01:15 -0500 (Tue, 30 Jan 2007) | 2 lines

added mod_magnet to the cmake compilation

------------------------------------------------------------------------
r1548 | jan | 2007-01-30 06:15:57 -0500 (Tue, 30 Jan 2007) | 2 lines

added trailing newline at end-of-file to make the c-compiler happy

------------------------------------------------------------------------
r1549 | jan | 2007-01-30 06:16:25 -0500 (Tue, 30 Jan 2007) | 2 lines

liblua wants libm too

------------------------------------------------------------------------
r1550 | jan | 2007-01-30 06:17:14 -0500 (Tue, 30 Jan 2007) | 2 lines

use internal md5 'const' where it is possible

------------------------------------------------------------------------
r1551 | jan | 2007-01-30 06:17:30 -0500 (Tue, 30 Jan 2007) | 2 lines

added mod_magnet to the static-build

------------------------------------------------------------------------
r1552 | jan | 2007-01-30 07:05:59 -0500 (Tue, 30 Jan 2007) | 2 lines

ported mod_magnet to the 1.5.0 API

------------------------------------------------------------------------
r1553 | jan | 2007-01-30 07:41:46 -0500 (Tue, 30 Jan 2007) | 3 lines

if a module sets Content-Length: itself we would append our own header a
second time creating a duplicate header 

------------------------------------------------------------------------
r1554 | jan | 2007-01-30 07:42:12 -0500 (Tue, 30 Jan 2007) | 2 lines

report a out-of-fd nicely to the upper layers

------------------------------------------------------------------------
r1555 | jan | 2007-01-30 07:42:49 -0500 (Tue, 30 Jan 2007) | 3 lines

wake up a connection which is waiting on network-write() when it ran out
of fds

------------------------------------------------------------------------
r1556 | jan | 2007-01-30 07:44:35 -0500 (Tue, 30 Jan 2007) | 2 lines

added EPIPE and a better error-msg for debugging

------------------------------------------------------------------------
r1557 | jan | 2007-01-30 10:34:48 -0500 (Tue, 30 Jan 2007) | 2 lines

play nice if we run out of fds

------------------------------------------------------------------------
r1558 | jan | 2007-01-30 10:35:59 -0500 (Tue, 30 Jan 2007) | 2 lines

added inotify support

------------------------------------------------------------------------
r1559 | jakabosky | 2007-01-30 15:33:24 -0500 (Tue, 30 Jan 2007) | 2 lines

Fixed bug with X-Rewrite-* headers

------------------------------------------------------------------------
r1560 | darix | 2007-01-30 17:18:16 -0500 (Tue, 30 Jan 2007) | 1 line

- fixing syntax of the targetlibs for mod_magnet
------------------------------------------------------------------------
r1561 | jan | 2007-01-31 19:17:22 -0500 (Wed, 31 Jan 2007) | 21 lines

big threading cleanup, glib-2.0 + gthread-2.0 is now a requirement

* configure.in, src/CMakeLists.txt
  - removed FAM support
  - added checks for glib-2.0
* src/Makefile.am
  - added mod_magnet to the build  
* src/stat_cache.c, src/response.c
  - removed FAM support
  - added threaded stat()
  - dropped splaytree in favour of GHashTable
* src/server.c, src/network_gthread_aio.c, src/network.c,
  src/network_backends.h
  - added new, gthread based async write()
* src/chunk.c, src/chunk.h
  - added vars for async-write to the chunk-struct
* src/network_linux_aio.c, src/network_posix_aio.c, 
  src/configfile.c
  - made number of threads configurable through 
    server.max-write-threads

------------------------------------------------------------------------
r1562 | jan | 2007-01-31 19:44:56 -0500 (Wed, 31 Jan 2007) | 2 lines

improved the pkg-config checks for glib-2.0

------------------------------------------------------------------------
r1563 | jan | 2007-01-31 19:58:12 -0500 (Wed, 31 Jan 2007) | 2 lines

removed debug message

------------------------------------------------------------------------
r1564 | jan | 2007-01-31 20:06:21 -0500 (Wed, 31 Jan 2007) | 2 lines

honour async-stat() call 

------------------------------------------------------------------------
r1565 | jan | 2007-01-31 20:12:59 -0500 (Wed, 31 Jan 2007) | 3 lines

added a extra API call for the async-stat to make old modules behave as
before

------------------------------------------------------------------------
r1566 | jakabosky | 2007-01-31 20:21:32 -0500 (Wed, 31 Jan 2007) | 2 lines

fixed bug with run-time undefined symbols for buffer_append_off_t & deflate

------------------------------------------------------------------------
r1567 | jan | 2007-01-31 20:30:33 -0500 (Wed, 31 Jan 2007) | 2 lines

for small files read synchronously

------------------------------------------------------------------------
r1568 | jan | 2007-01-31 21:31:34 -0500 (Wed, 31 Jan 2007) | 2 lines

declared functions as static

------------------------------------------------------------------------
r1569 | jan | 2007-01-31 21:32:52 -0500 (Wed, 31 Jan 2007) | 4 lines

moved the io_getevents() into the network-backend

- improved performances as the iocbs are released earlier

------------------------------------------------------------------------
r1570 | jakabosky | 2007-02-01 03:39:01 -0500 (Thu, 01 Feb 2007) | 3 lines

fixes cmake build for FreeBSD systems, removed "-lrt" and replaced "-ldl" with "-lc".
someone with a FreeBSD system will need to test this change, it still works on Linux.

------------------------------------------------------------------------
r1571 | jan | 2007-02-01 06:17:38 -0500 (Thu, 01 Feb 2007) | 11 lines

moved the completion-handlers into the network-backends

* server.c, network_posix_aio.c, network_linux_aio.c
  - added counters for sync/async reads
  - moved the completion-handlers into the network-backends
  - fixed warnings around signed/unsigned on max_toSend
  - only start the threads for the backend when the backend
    is really used
* base.h, network.c
  - moved the network-backend-ids into the server-struct

------------------------------------------------------------------------
r1572 | jan | 2007-02-01 06:38:15 -0500 (Thu, 01 Feb 2007) | 2 lines

join all the threads we started and cleanup after them

------------------------------------------------------------------------
r1573 | jan | 2007-02-01 07:24:28 -0500 (Thu, 01 Feb 2007) | 2 lines

improved error-msg to include more useful debug-info

------------------------------------------------------------------------
r1574 | jan | 2007-02-01 07:33:03 -0500 (Thu, 01 Feb 2007) | 2 lines

added missing cur_fds-- to lift the 'out-of-fds' condition again

------------------------------------------------------------------------
r1575 | jan | 2007-02-01 07:41:59 -0500 (Thu, 01 Feb 2007) | 2 lines

use sync-read for small files

------------------------------------------------------------------------
r1576 | jan | 2007-02-01 07:57:47 -0500 (Thu, 01 Feb 2007) | 2 lines

handle out-of-fd condition nicely

------------------------------------------------------------------------
r1577 | jan | 2007-02-01 07:58:28 -0500 (Thu, 01 Feb 2007) | 2 lines

possibly fixed a fdevent which is running away

------------------------------------------------------------------------
r1578 | jan | 2007-02-01 08:45:57 -0500 (Thu, 01 Feb 2007) | 2 lines

raised the chunk-size to get better performance for large file-transfers

------------------------------------------------------------------------
r1579 | jan | 2007-02-01 08:51:26 -0500 (Thu, 01 Feb 2007) | 2 lines

honour srv->is_shutdown and leave the thread 

------------------------------------------------------------------------
r1580 | jan | 2007-02-01 13:55:28 -0500 (Thu, 01 Feb 2007) | 2 lines

added url.redirect-code 

------------------------------------------------------------------------
r1581 | jan | 2007-02-02 10:17:10 -0500 (Fri, 02 Feb 2007) | 2 lines

removed unused TRUE/FALSE defines which clash with glib

------------------------------------------------------------------------
r1582 | jan | 2007-02-02 10:17:54 -0500 (Fri, 02 Feb 2007) | 2 lines

make gcc happy about the 'array' as param-name and 'array' as type-name

------------------------------------------------------------------------
r1583 | jan | 2007-02-02 10:27:58 -0500 (Fri, 02 Feb 2007) | 2 lines

include filename into the error-msg

------------------------------------------------------------------------
r1584 | jan | 2007-02-02 10:28:52 -0500 (Fri, 02 Feb 2007) | 2 lines

let's try to compile on glib2 2.4.0

------------------------------------------------------------------------
r1585 | jan | 2007-02-02 10:35:47 -0500 (Fri, 02 Feb 2007) | 2 lines

move compile fixes for glib-2.4.0

------------------------------------------------------------------------
r1586 | jan | 2007-02-02 10:41:49 -0500 (Fri, 02 Feb 2007) | 2 lines

glib 2.4.0 is good enough, perhaps even older ones

------------------------------------------------------------------------
r1587 | jan | 2007-02-02 11:01:17 -0500 (Fri, 02 Feb 2007) | 2 lines

reordered includes to make glib + our (buffer|array) happy 

------------------------------------------------------------------------
r1588 | jan | 2007-02-03 14:44:28 -0500 (Sat, 03 Feb 2007) | 2 lines

added O_NOATIME flags 

------------------------------------------------------------------------
r1589 | jan | 2007-02-03 14:44:45 -0500 (Sat, 03 Feb 2007) | 2 lines

removed unused typedef 

------------------------------------------------------------------------
r1590 | jan | 2007-02-03 14:47:17 -0500 (Sat, 03 Feb 2007) | 7 lines

add define to disable all the threading support

- replaced all pthread_* usage by gthread
- renamed server.max-write-threads by server.max-read-threads
- added #ifdef USE_GTHREAD 
 

------------------------------------------------------------------------
r1591 | jan | 2007-02-03 15:42:03 -0500 (Sat, 03 Feb 2007) | 2 lines

make sure that we have O_NOATIME available

------------------------------------------------------------------------
r1592 | jan | 2007-02-03 15:42:26 -0500 (Sat, 03 Feb 2007) | 2 lines

fixed compile on win32

------------------------------------------------------------------------
r1593 | jan | 2007-02-03 16:38:52 -0500 (Sat, 03 Feb 2007) | 2 lines

the thread-shutdown takes some more time

------------------------------------------------------------------------
r1594 | jan | 2007-02-03 20:11:29 -0500 (Sat, 03 Feb 2007) | 2 lines

fixed compilation on MacOSX and perhaps FreeBSD

------------------------------------------------------------------------
r1595 | jan | 2007-02-03 20:21:05 -0500 (Sat, 03 Feb 2007) | 2 lines

FreeBSD doesn't have SIGEV_THREAD for the POSIX AIO support

------------------------------------------------------------------------
r1596 | jan | 2007-02-04 13:37:57 -0500 (Sun, 04 Feb 2007) | 2 lines

update the bytes_in of the con->send queue to make compression happy

------------------------------------------------------------------------
r1597 | jan | 2007-02-04 14:02:45 -0500 (Sun, 04 Feb 2007) | 2 lines

lowered the 16k threshold for async-read() to 4kbyte

------------------------------------------------------------------------
r1598 | jan | 2007-02-04 15:30:29 -0500 (Sun, 04 Feb 2007) | 2 lines

updated the size of the bytes sent into the con->send queue

------------------------------------------------------------------------
r1599 | jan | 2007-02-04 15:31:56 -0500 (Sun, 04 Feb 2007) | 4 lines

added some noise-reduction for futex-calls

- only start the joblist-thread if there is a backend really using it

------------------------------------------------------------------------
r1600 | jan | 2007-02-04 15:40:08 -0500 (Sun, 04 Feb 2007) | 2 lines

fixed script error in aio test (fix provided by carenas@sajinet.com.pe)

------------------------------------------------------------------------
r1601 | jan | 2007-02-04 15:41:12 -0500 (Sun, 04 Feb 2007) | 5 lines

add mod_proxy_backend_ajp13 to the list of activated modules after a
configure (fix provided by carenas@sajinet.com.pe)



------------------------------------------------------------------------
r1602 | jan | 2007-02-04 16:21:18 -0500 (Sun, 04 Feb 2007) | 2 lines

fixed check for the lib which provides aio_read()

------------------------------------------------------------------------
r1603 | jan | 2007-02-04 16:42:38 -0500 (Sun, 04 Feb 2007) | 2 lines

update chunkqueue size for mod_deflate

------------------------------------------------------------------------
r1604 | jan | 2007-02-04 16:42:53 -0500 (Sun, 04 Feb 2007) | 2 lines

increment c->offset only once

------------------------------------------------------------------------
r1605 | jan | 2007-02-04 18:22:46 -0500 (Sun, 04 Feb 2007) | 6 lines

report an error if the rewrite leads to a rel-URI without a leading
slash.

* mongrel just disconnects
* squid sends a 400

------------------------------------------------------------------------
r1606 | glen | 2007-02-05 08:13:43 -0500 (Mon, 05 Feb 2007) | 1 line

- ignore empty packets from STDERR stream. fixes #998
------------------------------------------------------------------------
r1608 | jakabosky | 2007-02-05 16:57:08 -0500 (Mon, 05 Feb 2007) | 2 lines

fixed memory errors.  All calls to array_get_index() have to pass the keylen as (strlen(key) + 1)

------------------------------------------------------------------------
r1609 | jakabosky | 2007-02-06 01:14:54 -0500 (Tue, 06 Feb 2007) | 4 lines

Added statistics counters to mod_proxy_core.
Seperate all backend addresses, so each one has it's own connection pool.
Added option proxy-core.split-hostnames (default enabled)

------------------------------------------------------------------------
r1610 | jakabosky | 2007-02-06 01:15:30 -0500 (Tue, 06 Feb 2007) | 2 lines

Added macros: COUNTER_INC, COUNTER_DEC, COUNTER_SET

------------------------------------------------------------------------
r1611 | jakabosky | 2007-02-06 01:53:05 -0500 (Tue, 06 Feb 2007) | 2 lines

patch from user nusgnaf.  fixes ticket #10009

------------------------------------------------------------------------
r1612 | jakabosky | 2007-02-06 14:23:31 -0500 (Tue, 06 Feb 2007) | 2 lines

add function to remove path from source filenames.

------------------------------------------------------------------------
r1613 | jakabosky | 2007-02-06 14:26:07 -0500 (Tue, 06 Feb 2007) | 3 lines

Fixes bug #981.  Fixed bug where backend ignores the request content,
then sends the response headers/content and closes the connection.

------------------------------------------------------------------------
r1614 | jakabosky | 2007-02-06 15:35:52 -0500 (Tue, 06 Feb 2007) | 2 lines

fixed bug with max packet size.

------------------------------------------------------------------------
r1615 | jakabosky | 2007-02-06 17:26:47 -0500 (Tue, 06 Feb 2007) | 2 lines

ported mod_cgi to 1.5 api.

------------------------------------------------------------------------
r1616 | jakabosky | 2007-02-06 17:29:16 -0500 (Tue, 06 Feb 2007) | 2 lines

forgot to remove the old code that I had disabled.

------------------------------------------------------------------------
r1617 | jakabosky | 2007-02-06 20:32:57 -0500 (Tue, 06 Feb 2007) | 2 lines

fixed file-uploads for mod_cgi.

------------------------------------------------------------------------
r1618 | jakabosky | 2007-02-07 22:33:31 -0500 (Wed, 07 Feb 2007) | 2 lines

added statistics value for currently open fds.

------------------------------------------------------------------------
r1619 | jakabosky | 2007-02-08 01:27:43 -0500 (Thu, 08 Feb 2007) | 2 lines

fixes ticket #1012,  use CONST_STR_LEN() instead of strlen().

------------------------------------------------------------------------
r1620 | jakabosky | 2007-02-08 05:36:22 -0500 (Thu, 08 Feb 2007) | 2 lines

added server.max-connection-idle option.

------------------------------------------------------------------------
r1621 | jakabosky | 2007-02-08 14:55:59 -0500 (Thu, 08 Feb 2007) | 2 lines

Two new values added to /server-status?auto.  patch from user Terminar.

------------------------------------------------------------------------
r1622 | jakabosky | 2007-02-09 16:23:06 -0500 (Fri, 09 Feb 2007) | 2 lines

fixed http-chunk decoding bug.

------------------------------------------------------------------------
r1623 | moo | 2007-02-10 03:20:59 -0500 (Sat, 10 Feb 2007) | 2 lines

moved lemon generated files to build dir

------------------------------------------------------------------------
r1624 | moo | 2007-02-10 03:22:00 -0500 (Sat, 10 Feb 2007) | 2 lines

removed lemon generated file from source tree, it will be regenerated

------------------------------------------------------------------------
r1625 | jan | 2007-02-10 15:35:15 -0500 (Sat, 10 Feb 2007) | 2 lines

handle out-of-fd gracefully

------------------------------------------------------------------------
r1626 | jan | 2007-02-10 15:35:46 -0500 (Sat, 10 Feb 2007) | 2 lines

added GTHREAD_LIBS to the build of the common-lib on macosx

------------------------------------------------------------------------
r1627 | jan | 2007-02-10 15:36:30 -0500 (Sat, 10 Feb 2007) | 2 lines

disable keep-alive in case we are in fd-shortage

------------------------------------------------------------------------
r1628 | jan | 2007-02-10 15:37:47 -0500 (Sat, 10 Feb 2007) | 3 lines

replace explict counting of open fds by a more heuristic way to guess
how many connections we can start in case we ran out of fds

------------------------------------------------------------------------
r1629 | jan | 2007-02-10 15:39:58 -0500 (Sat, 10 Feb 2007) | 2 lines

fixed compile on IRIX with mips-pro

------------------------------------------------------------------------
r1630 | jan | 2007-02-10 19:58:41 -0500 (Sat, 10 Feb 2007) | 2 lines

fixed writing the HTTP-response header twice on out-of-fds

------------------------------------------------------------------------
r1631 | jan | 2007-02-10 19:59:31 -0500 (Sat, 10 Feb 2007) | 2 lines

fixed write() = EFAULT on out-of-fds 

------------------------------------------------------------------------
r1632 | jan | 2007-02-11 04:58:24 -0500 (Sun, 11 Feb 2007) | 2 lines

added a counter for failing requests

------------------------------------------------------------------------
r1633 | jan | 2007-02-11 05:02:56 -0500 (Sun, 11 Feb 2007) | 2 lines

fixed the content-length for Range requests from a proxy-backend (fixes #1006)

------------------------------------------------------------------------
r1634 | jan | 2007-02-11 05:05:52 -0500 (Sun, 11 Feb 2007) | 3 lines

reset the response-headers if we make a internal redirect too to remove
the duplicate response-headers (fixes #1007)

------------------------------------------------------------------------
r1635 | jan | 2007-02-11 05:31:06 -0500 (Sun, 11 Feb 2007) | 3 lines

hide debug-message in case the input-size is smaller then the compressed
output

------------------------------------------------------------------------
r1636 | jan | 2007-02-11 05:31:48 -0500 (Sun, 11 Feb 2007) | 2 lines

fixed compression support for static Range: requests

------------------------------------------------------------------------
r1637 | jan | 2007-02-11 05:59:50 -0500 (Sun, 11 Feb 2007) | 2 lines

hide some reasons for a 400-status-code behind a config-option

------------------------------------------------------------------------
r1638 | jan | 2007-02-11 07:18:25 -0500 (Sun, 11 Feb 2007) | 9 lines

fixed handling on connect() errors 

* if connect() fails directly (e.g. on 192.168.1.0:..., the
  network-address) handle it nicely and choose another backend
  instead
* don't pick a disabled backend/address if we only have one 
  of them 


------------------------------------------------------------------------
r1639 | jan | 2007-02-11 19:10:04 -0500 (Sun, 11 Feb 2007) | 2 lines

added a check for pread()

------------------------------------------------------------------------
r1640 | jakabosky | 2007-02-11 20:11:11 -0500 (Sun, 11 Feb 2007) | 2 lines

fixed bug with re-using tempfile chunk from cq->unused list.

------------------------------------------------------------------------
r1641 | jakabosky | 2007-02-11 20:22:26 -0500 (Sun, 11 Feb 2007) | 4 lines

Fixed problem with file-uploads to AJP13 backends.
The backend protocols how have a full-duplex communication channel
with the backend servers.

------------------------------------------------------------------------
r1642 | jakabosky | 2007-02-11 22:36:11 -0500 (Sun, 11 Feb 2007) | 2 lines

port to 1.5. fdevent api.

------------------------------------------------------------------------
r1643 | jakabosky | 2007-02-12 17:00:55 -0500 (Mon, 12 Feb 2007) | 2 lines

fix compile bug.

------------------------------------------------------------------------
r1644 | jakabosky | 2007-02-12 17:01:49 -0500 (Mon, 12 Feb 2007) | 2 lines

remove duplicate chunk stealing code.

------------------------------------------------------------------------
r1645 | jakabosky | 2007-02-12 17:13:40 -0500 (Mon, 12 Feb 2007) | 2 lines

fixed compile warnings.

------------------------------------------------------------------------
r1646 | jakabosky | 2007-02-12 19:16:16 -0500 (Mon, 12 Feb 2007) | 2 lines

fixed compile on NexentaOS-A6

------------------------------------------------------------------------
r1647 | jakabosky | 2007-02-14 03:37:06 -0500 (Wed, 14 Feb 2007) | 2 lines

fixed crash bugs.

------------------------------------------------------------------------
r1648 | jakabosky | 2007-02-14 03:38:08 -0500 (Wed, 14 Feb 2007) | 2 lines

fixed freebsd kqueue's event handler.

------------------------------------------------------------------------
r1649 | jakabosky | 2007-02-16 14:30:22 -0500 (Fri, 16 Feb 2007) | 2 lines

fixed ticket #1035

------------------------------------------------------------------------
r1650 | jakabosky | 2007-02-16 14:32:55 -0500 (Fri, 16 Feb 2007) | 2 lines

fix compile bug.

------------------------------------------------------------------------
r1651 | jakabosky | 2007-02-16 21:40:19 -0500 (Fri, 16 Feb 2007) | 2 lines

fixed memory leaks

------------------------------------------------------------------------
r1652 | jakabosky | 2007-02-16 21:50:38 -0500 (Fri, 16 Feb 2007) | 2 lines

fixed compile/link bug.

------------------------------------------------------------------------
r1653 | jan | 2007-02-17 06:48:27 -0500 (Sat, 17 Feb 2007) | 2 lines

added a huge win32 patch by jtiai

------------------------------------------------------------------------
r1654 | jan | 2007-02-17 10:48:13 -0500 (Sat, 17 Feb 2007) | 2 lines

fixed compile of non-static builds

------------------------------------------------------------------------
r1655 | jan | 2007-02-17 10:49:00 -0500 (Sat, 17 Feb 2007) | 2 lines

removed splaytree from the packaging

------------------------------------------------------------------------
r1657 | jan | 2007-02-18 09:13:07 -0500 (Sun, 18 Feb 2007) | 2 lines

added build-instructions and missing getopt() replacement for windows

------------------------------------------------------------------------
r1658 | jan | 2007-02-19 04:37:53 -0500 (Mon, 19 Feb 2007) | 2 lines

added a win32 support for pkgconfig

------------------------------------------------------------------------
r1659 | jan | 2007-02-19 05:28:55 -0500 (Mon, 19 Feb 2007) | 3 lines

splitted USE_GTHREAD into USE_GTHREAD and USE_GTHREAD_AIO as we need
mmap() and other syscalls for the gthread-aio too

------------------------------------------------------------------------
r1660 | jan | 2007-02-19 05:29:14 -0500 (Mon, 19 Feb 2007) | 2 lines

added win32 compat 

------------------------------------------------------------------------
r1661 | jan | 2007-02-19 05:30:03 -0500 (Mon, 19 Feb 2007) | 4 lines

win32 needs a define for STDERR_FILENO which we set in sys-socket.h, but
somehow we get linker problems if we include that one here


------------------------------------------------------------------------
r1662 | jan | 2007-02-19 08:33:28 -0500 (Mon, 19 Feb 2007) | 3 lines

added support for daemontools and the -I option (patch by
dermoth@aei.ca)

------------------------------------------------------------------------
r1667 | jan | 2007-02-19 16:41:18 -0500 (Mon, 19 Feb 2007) | 2 lines

compile without zlib installed

------------------------------------------------------------------------
r1668 | jan | 2007-02-19 16:45:15 -0500 (Mon, 19 Feb 2007) | 2 lines

include only the necessary headers for win32

------------------------------------------------------------------------
r1669 | jan | 2007-02-19 16:45:56 -0500 (Mon, 19 Feb 2007) | 2 lines

only check for libdl if we have the headers for it

------------------------------------------------------------------------
r1670 | jan | 2007-02-19 16:46:15 -0500 (Mon, 19 Feb 2007) | 2 lines

win32 specific fixes

------------------------------------------------------------------------
r1672 | jan | 2007-02-19 17:18:05 -0500 (Mon, 19 Feb 2007) | 2 lines

added more useful settings for the NSIS installer

------------------------------------------------------------------------
r1673 | jan | 2007-02-19 17:27:22 -0500 (Mon, 19 Feb 2007) | 2 lines

cmake wants absolute paths

------------------------------------------------------------------------
r1674 | jan | 2007-02-20 06:44:40 -0500 (Tue, 20 Feb 2007) | 2 lines

fixed crash at startup on win32

------------------------------------------------------------------------
r1675 | jan | 2007-02-20 06:45:30 -0500 (Tue, 20 Feb 2007) | 2 lines

another attempt to get the IMPORT/EXPORT stuff right (patch from jtiai)

------------------------------------------------------------------------
r1679 | darix | 2007-02-20 12:26:09 -0500 (Tue, 20 Feb 2007) | 1 line

- handle 303 [#1045]
------------------------------------------------------------------------
r1680 | jakabosky | 2007-02-20 15:54:29 -0500 (Tue, 20 Feb 2007) | 2 lines

fixed cmake build on linux.

------------------------------------------------------------------------
r1681 | jakabosky | 2007-02-20 15:54:45 -0500 (Tue, 20 Feb 2007) | 2 lines

fixed compiler warning.

------------------------------------------------------------------------
r1682 | jakabosky | 2007-02-20 23:37:45 -0500 (Tue, 20 Feb 2007) | 2 lines

fixed bug with Content-Length header from http backend servers.

------------------------------------------------------------------------
r1683 | jakabosky | 2007-02-21 01:15:47 -0500 (Wed, 21 Feb 2007) | 2 lines

fixed bug with Content-Length = 0, when backend sent Content-Length > 0

------------------------------------------------------------------------
r1685 | darix | 2007-02-21 14:31:32 -0500 (Wed, 21 Feb 2007) | 1 line

- add HTTPS=on to the environment of cgi scripts (#861)
------------------------------------------------------------------------
r1686 | darix | 2007-02-21 14:54:55 -0500 (Wed, 21 Feb 2007) | 1 line

- fix the previous commit
------------------------------------------------------------------------
r1688 | jakabosky | 2007-02-21 21:03:36 -0500 (Wed, 21 Feb 2007) | 5 lines

fixed bug with empty response content(Content-Length header > 0) when a HTTP/1.1 100 Continue
is sent before the real response.
Use curl to cause the HTTP 100 response to be sent back:
curl -F upload=@somefile -F press=OK "http://localhost/upload_test.php"

------------------------------------------------------------------------
r1689 | jan | 2007-02-22 08:24:22 -0500 (Thu, 22 Feb 2007) | 2 lines

allow empty header fields

------------------------------------------------------------------------
r1690 | jan | 2007-02-22 08:24:47 -0500 (Thu, 22 Feb 2007) | 2 lines

expect that read() might return less data than we asked for.

------------------------------------------------------------------------
r1691 | jan | 2007-02-22 11:54:27 -0500 (Thu, 22 Feb 2007) | 2 lines

fixed race-condition with the thread network backends

------------------------------------------------------------------------
r1692 | jan | 2007-02-23 09:07:11 -0500 (Fri, 23 Feb 2007) | 2 lines

added check for hostnames if GET http://hostname/ HTTP/1.1 ist used

------------------------------------------------------------------------
r1693 | jan | 2007-02-25 07:35:57 -0500 (Sun, 25 Feb 2007) | 2 lines

fixed compilation of aio support on macosx (fixes #1049)

------------------------------------------------------------------------
r1694 | jan | 2007-02-26 12:26:16 -0500 (Mon, 26 Feb 2007) | 2 lines

fixed crash on SIGHUP (fix by <adi@postpi.com>)

------------------------------------------------------------------------
r1695 | jan | 2007-02-27 11:29:22 -0500 (Tue, 27 Feb 2007) | 3 lines

* fixed double-free() on err->file 
* remove_path is changing the content of the string aka not "const" 

------------------------------------------------------------------------
r1696 | jan | 2007-02-27 11:32:05 -0500 (Tue, 27 Feb 2007) | 3 lines

reverted last commit on the "const" issue and made the response const
too

------------------------------------------------------------------------
r1697 | jan | 2007-02-27 19:39:42 -0500 (Tue, 27 Feb 2007) | 2 lines

give a useful error-msg if we get a ENOSYS

------------------------------------------------------------------------
r1698 | jan | 2007-02-27 19:40:27 -0500 (Tue, 27 Feb 2007) | 2 lines

fixed illegal access to hctx->out which just got free()ed

------------------------------------------------------------------------
r1699 | jan | 2007-02-28 05:16:57 -0500 (Wed, 28 Feb 2007) | 2 lines

allow log-msgs bigger than 1024 chars

------------------------------------------------------------------------
r1700 | jan | 2007-02-28 17:21:29 -0500 (Wed, 28 Feb 2007) | 2 lines

start the stat-threads on win32 too

------------------------------------------------------------------------
r1701 | jakabosky | 2007-03-01 18:05:37 -0500 (Thu, 01 Mar 2007) | 2 lines

fix bug with conditional cache.

------------------------------------------------------------------------
r1702 | jakabosky | 2007-03-01 18:56:25 -0500 (Thu, 01 Mar 2007) | 2 lines

allow HTTP responses without a Reason-Phrase in the Status line.

------------------------------------------------------------------------
r1703 | jan | 2007-03-04 08:39:58 -0500 (Sun, 04 Mar 2007) | 2 lines

added support to rewrite the doc-root (same as fastcgi.server->docroot)

------------------------------------------------------------------------
r1704 | jan | 2007-03-04 08:45:20 -0500 (Sun, 04 Mar 2007) | 2 lines

free the hash-table at shutdown

------------------------------------------------------------------------
r1705 | jan | 2007-03-04 19:39:45 -0500 (Sun, 04 Mar 2007) | 9 lines

added time-tracking

* base.h
  - added a array of GTimeVal to track timestamps of the different
    stages
* network_gthread_aio.c
  - added a compile-time define to track the execution-time of a 
    read()/write() request

------------------------------------------------------------------------
r1706 | jan | 2007-03-05 04:41:22 -0500 (Mon, 05 Mar 2007) | 3 lines

looks like Centos 4.4 has posix_fadvise but doesn't export the constants
for it

------------------------------------------------------------------------
r1709 | glen | 2007-03-07 14:43:51 -0500 (Wed, 07 Mar 2007) | 2 lines

- merged with branches/lighttpd-1.4.x/NEWS

------------------------------------------------------------------------
r1710 | jan | 2007-03-11 08:35:30 -0400 (Sun, 11 Mar 2007) | 3 lines

use open(O_NONBLOCK) + fstat() to circumvent the blocking open()ed with
named pipes.

------------------------------------------------------------------------
r1711 | jan | 2007-03-11 08:38:14 -0400 (Sun, 11 Mar 2007) | 2 lines

moved time-tracking into timing.[ch] and added debug.log-timing

------------------------------------------------------------------------
r1712 | jan | 2007-03-11 08:38:45 -0400 (Sun, 11 Mar 2007) | 2 lines

added a threaded sendfile() backend for linux

------------------------------------------------------------------------
r1713 | darix | 2007-03-11 21:18:23 -0400 (Sun, 11 Mar 2007) | 1 line

- add missing new files to makefile.am
------------------------------------------------------------------------
r1714 | jan | 2007-03-12 05:36:00 -0400 (Mon, 12 Mar 2007) | 2 lines

added timing.h to the dist and network_gthread_sendfile.c to the compile

------------------------------------------------------------------------
r1715 | jan | 2007-03-12 05:38:20 -0400 (Mon, 12 Mar 2007) | 2 lines

oops, removed duplicate network_gthread_sendfile.c

------------------------------------------------------------------------
r1717 | jan | 2007-03-26 04:20:32 -0400 (Mon, 26 Mar 2007) | 2 lines

fixed crash if a gethostbyname() failed 

------------------------------------------------------------------------
r1746 | jan | 2007-04-12 12:15:29 -0400 (Thu, 12 Apr 2007) | 8 lines

added postgresql support and a cache to sql_vhost

* mod_postgresql_vhost.c 
  - provided by cbergstrom@netsyncro.com
* mod_sql_vhost_core.[ch]
  - added a a simple cache to reduce the number of queries
  - added sql-vhost.debug and sql-vhost.cache-ttl

------------------------------------------------------------------------
r1747 | jan | 2007-04-12 13:56:29 -0400 (Thu, 12 Apr 2007) | 2 lines

adjust the stack since and check if we really need the joblist-thread

------------------------------------------------------------------------
r1748 | jan | 2007-04-12 13:56:49 -0400 (Thu, 12 Apr 2007) | 2 lines

added the UNUSED_PARAM macro

------------------------------------------------------------------------
r1749 | jan | 2007-04-12 13:57:26 -0400 (Thu, 12 Apr 2007) | 2 lines

we need glib indirectly via the sys-*.h headers

------------------------------------------------------------------------
r1750 | jan | 2007-04-12 13:58:00 -0400 (Thu, 12 Apr 2007) | 2 lines

added comment about the FADV behaviour on linux

------------------------------------------------------------------------
r1751 | jan | 2007-04-12 13:58:51 -0400 (Thu, 12 Apr 2007) | 3 lines

update the connection entry in the conditional-cache when we connect to
pg

------------------------------------------------------------------------
r1752 | jan | 2007-04-12 13:59:20 -0400 (Thu, 12 Apr 2007) | 2 lines

if the cache-ttl == 0, don't insert or lookup in the cache at all

------------------------------------------------------------------------
r1753 | jan | 2007-04-12 13:59:39 -0400 (Thu, 12 Apr 2007) | 2 lines

added the defines for PG to the config.h template

------------------------------------------------------------------------
r1754 | jan | 2007-04-12 14:00:01 -0400 (Thu, 12 Apr 2007) | 2 lines

added the pg-vhost to the static plugin

------------------------------------------------------------------------
r1755 | jan | 2007-04-12 14:08:32 -0400 (Thu, 12 Apr 2007) | 2 lines

improved err-msg if PGexecute fails

------------------------------------------------------------------------
r1756 | jan | 2007-04-12 14:11:00 -0400 (Thu, 12 Apr 2007) | 2 lines

improved error-msgs

------------------------------------------------------------------------
r1757 | jan | 2007-04-13 06:23:34 -0400 (Fri, 13 Apr 2007) | 2 lines

added support for MMAP_ANON mmap() line on MacOSX

------------------------------------------------------------------------
r1758 | jan | 2007-04-13 06:24:35 -0400 (Fri, 13 Apr 2007) | 2 lines

introduced USE_GTHREAD_SENDFILE, as it only works on linux right now

------------------------------------------------------------------------
r1759 | jan | 2007-04-13 06:25:01 -0400 (Fri, 13 Apr 2007) | 2 lines

we need the gthread flags on all OSes

------------------------------------------------------------------------
r1760 | jan | 2007-04-13 08:36:53 -0400 (Fri, 13 Apr 2007) | 2 lines

moved the defines for HAVE_MEM_MMAP_ZERO and HAVE_MEM_MMAP_ANON into a central place

------------------------------------------------------------------------
r1761 | jan | 2007-04-13 08:37:27 -0400 (Fri, 13 Apr 2007) | 2 lines

added support for mmap(ANON) to get it working on macosx

------------------------------------------------------------------------
r1762 | jan | 2007-04-13 08:37:58 -0400 (Fri, 13 Apr 2007) | 2 lines

added support for pcre-config and fall back to poking if it didn't worked

------------------------------------------------------------------------
r1763 | jan | 2007-04-13 08:39:09 -0400 (Fri, 13 Apr 2007) | 2 lines

added TRACE for the default network-backend

------------------------------------------------------------------------
r1769 | jan | 2007-04-13 17:42:36 -0400 (Fri, 13 Apr 2007) | 2 lines

pcre-config may return a single newline which would break our CFLAGS

------------------------------------------------------------------------
r1770 | jan | 2007-04-13 18:53:19 -0400 (Fri, 13 Apr 2007) | 2 lines

added mod_flv_streaming to the static build

------------------------------------------------------------------------
r1771 | jan | 2007-04-13 18:54:33 -0400 (Fri, 13 Apr 2007) | 2 lines

added better tracing with log-request-handling

------------------------------------------------------------------------
r1772 | jan | 2007-04-13 19:44:59 -0400 (Fri, 13 Apr 2007) | 2 lines

fixed to get mod-webdav compiling on macosx with properties

------------------------------------------------------------------------
r1773 | jan | 2007-04-13 19:47:04 -0400 (Fri, 13 Apr 2007) | 2 lines

fixed compile if webdav-props are used (fixes #1008) and added more traces

------------------------------------------------------------------------
r1774 | jan | 2007-04-15 07:36:09 -0400 (Sun, 15 Apr 2007) | 2 lines

fixed all method (PROPFIND, ...) with a XML-request-body

------------------------------------------------------------------------
r1775 | jan | 2007-04-15 08:59:28 -0400 (Sun, 15 Apr 2007) | 3 lines

- fixed option WITH_WEBDAV_PROPS
- fixed passing of link-flags on static builds

------------------------------------------------------------------------
r1776 | jan | 2007-04-16 08:41:07 -0400 (Mon, 16 Apr 2007) | 4 lines

move the decoded content to the network-queues as soon as we have
decoded it instead of waiting for the backend connection to finish 
(fixes #1069)

------------------------------------------------------------------------
r1779 | jan | 2007-04-17 08:12:18 -0400 (Tue, 17 Apr 2007) | 3 lines

if the remote side crashes before we receive the FCGI_FINISH packet,
close the out-going connection too

------------------------------------------------------------------------
r1780 | jan | 2007-04-17 08:25:52 -0400 (Tue, 17 Apr 2007) | 2 lines

fixed minor mem-leak before shutdown

------------------------------------------------------------------------
r1781 | jan | 2007-04-17 08:28:46 -0400 (Tue, 17 Apr 2007) | 3 lines

added a timeout to connect() = -1 EINPROGRESS and a max-retry to kill
connections which get dropped into the backlog all the time.

------------------------------------------------------------------------
r1782 | jan | 2007-04-17 09:41:18 -0400 (Tue, 17 Apr 2007) | 2 lines

fixed shared build on macosx (fixes #1071)

------------------------------------------------------------------------
r1783 | jan | 2007-04-17 13:02:14 -0400 (Tue, 17 Apr 2007) | 2 lines

improved the detection of the autoconf/automake versions on different OSes (fixes #973)

------------------------------------------------------------------------
r1784 | jan | 2007-04-17 13:38:29 -0400 (Tue, 17 Apr 2007) | 5 lines

- fixed crash if proxy-core.protocol is set not in the same conditional
  as proxy-core.backends (fixes #1126)
- send 500 if proxy-core.protocol is not set at all, but
  proxy-core.backends is set 

------------------------------------------------------------------------
r1785 | jan | 2007-04-17 14:23:58 -0400 (Tue, 17 Apr 2007) | 3 lines

- handle broken url.rewrite config-options as error
- fixed memleak if url.rewrite-repeat is used (fixes #874)

------------------------------------------------------------------------
r1786 | jan | 2007-04-17 14:35:52 -0400 (Tue, 17 Apr 2007) | 3 lines

fixed expire.url with 'modification ...' if physical.path is not set
(fixes #1063)

------------------------------------------------------------------------
r1788 | jan | 2007-04-18 04:21:48 -0400 (Wed, 18 Apr 2007) | 2 lines

initialize write_request_ts (fixes #1084)

------------------------------------------------------------------------
r1789 | jan | 2007-04-18 04:35:42 -0400 (Wed, 18 Apr 2007) | 2 lines

added a magnet to rewrite the response headers 

------------------------------------------------------------------------
r1790 | jan | 2007-04-18 05:04:05 -0400 (Wed, 18 Apr 2007) | 2 lines

fixed infinite loop if a long header is sent (fixes #1127)

------------------------------------------------------------------------
r1791 | jan | 2007-04-18 05:57:49 -0400 (Wed, 18 Apr 2007) | 2 lines

use TRACE() and ERROR() instead of log_error_write()

------------------------------------------------------------------------
r1792 | jan | 2007-04-18 05:58:52 -0400 (Wed, 18 Apr 2007) | 3 lines

added a flag to declare a conditional valid to support PHYSICAL["path"]
and similar "late" conditionals

------------------------------------------------------------------------
r1793 | jan | 2007-04-18 05:59:23 -0400 (Wed, 18 Apr 2007) | 2 lines

deprecated check-local as with have PHYSICAL["path"] as conditional now

------------------------------------------------------------------------
r1794 | jan | 2007-04-18 06:21:39 -0400 (Wed, 18 Apr 2007) | 2 lines

allow to use conditionals to drive the access.deny-all 

------------------------------------------------------------------------
r1795 | jan | 2007-04-18 06:22:20 -0400 (Wed, 18 Apr 2007) | 2 lines

added $PHYSICAL["existing-path"] and $PHYSICAL["path"]

------------------------------------------------------------------------
r1796 | jan | 2007-04-18 06:30:29 -0400 (Wed, 18 Apr 2007) | 2 lines

fixed "SSL routines:SSL3_WRITE_PENDING:bad write retry" (fixes #1042)

------------------------------------------------------------------------
r1797 | jan | 2007-04-18 06:51:31 -0400 (Wed, 18 Apr 2007) | 2 lines

added URL and backend-address to the FastCGI-stderr logging (fixes #958)

------------------------------------------------------------------------
r1798 | jan | 2007-04-18 07:31:32 -0400 (Wed, 18 Apr 2007) | 2 lines

cover debug msg in a debug-if

------------------------------------------------------------------------
r1799 | jan | 2007-04-18 07:31:47 -0400 (Wed, 18 Apr 2007) | 2 lines

added mod_compress to the static builds

------------------------------------------------------------------------
r1800 | jan | 2007-04-18 07:32:52 -0400 (Wed, 18 Apr 2007) | 4 lines

- added better tracing with "log-request-handling"
- fixed duplicate content (plain + compressed) if cache-dir is used 
  (fixes #1046)

------------------------------------------------------------------------
r1801 | jan | 2007-04-18 08:46:19 -0400 (Wed, 18 Apr 2007) | 2 lines

suppress the stderr on a failing "which"

------------------------------------------------------------------------
r1802 | jan | 2007-04-19 06:45:37 -0400 (Thu, 19 Apr 2007) | 2 lines

added more trace-points

------------------------------------------------------------------------
r1803 | jan | 2007-04-19 06:46:12 -0400 (Thu, 19 Apr 2007) | 2 lines

added pg-vhost to the normal distribution

------------------------------------------------------------------------
r1804 | jan | 2007-04-19 06:46:40 -0400 (Thu, 19 Apr 2007) | 3 lines

- added more trace-points 
- added setenv and simple-vhost to the static compile

------------------------------------------------------------------------
r1805 | jan | 2007-04-19 06:47:10 -0400 (Thu, 19 Apr 2007) | 2 lines

- added a FIXME to display the selected backend to the show-config 

------------------------------------------------------------------------
r1806 | jan | 2007-04-19 06:47:41 -0400 (Thu, 19 Apr 2007) | 2 lines

added more trace points 

------------------------------------------------------------------------
r1807 | jan | 2007-04-19 06:48:32 -0400 (Thu, 19 Apr 2007) | 3 lines

fixed failing nesting and else-handling introduced in the last changes
(fixes #41)

------------------------------------------------------------------------
r1808 | jan | 2007-04-19 07:36:17 -0400 (Thu, 19 Apr 2007) | 2 lines

added checks for the postgresql libs/includes

------------------------------------------------------------------------
r1809 | jan | 2007-04-19 07:39:35 -0400 (Thu, 19 Apr 2007) | 2 lines

added docs for mod_postgresql_vhost

------------------------------------------------------------------------
r1810 | jan | 2007-04-19 13:55:53 -0400 (Thu, 19 Apr 2007) | 2 lines

fixed conditional caches if a cache-entry gets invalidated at runtime

------------------------------------------------------------------------
r1811 | jan | 2007-04-19 17:06:44 -0400 (Thu, 19 Apr 2007) | 2 lines

fixed the reset of the conditional cache in mod-magnet

------------------------------------------------------------------------
r1812 | darix | 2007-04-20 09:02:36 -0400 (Fri, 20 Apr 2007) | 2 lines

- honor -DLIBRARY_OUTPUT_PATH:PATH=lib64
- always install the modules into ${LIBRARY_OUTPUT_PATH}/lighttpd
------------------------------------------------------------------------
r1813 | darix | 2007-04-20 09:15:59 -0400 (Fri, 20 Apr 2007) | 1 line

- make docdir configurable and let it default to share/doc/lighttpd instead of share
------------------------------------------------------------------------
r1814 | jan | 2007-04-20 09:44:19 -0400 (Fri, 20 Apr 2007) | 2 lines

fixed missing -luuid in the --with-webdav-locks option

------------------------------------------------------------------------
r1815 | jan | 2007-04-20 10:02:37 -0400 (Fri, 20 Apr 2007) | 2 lines

--with-lua=lua5.1 -> pkg-config lua5.1 ...

------------------------------------------------------------------------
r1816 | jan | 2007-04-20 10:23:58 -0400 (Fri, 20 Apr 2007) | 3 lines

if the open(.., O_NOATIME) fails with EPERM me have to check if a plain
open() succeeds.

------------------------------------------------------------------------
r1817 | jan | 2007-04-20 10:24:27 -0400 (Fri, 20 Apr 2007) | 2 lines

added cgi.execute-all as documented in the wiki

------------------------------------------------------------------------
r1818 | jan | 2007-04-20 12:41:09 -0400 (Fri, 20 Apr 2007) | 2 lines

fixed compilation around MAP_ANON or MAP_DEV_ZERO for *BSD

------------------------------------------------------------------------
r1819 | darix | 2007-04-20 14:18:52 -0400 (Fri, 20 Apr 2007) | 7 lines

more cmake fixes:
- put binaries into sbin (can be overwritten by -DSBINDIR:PATH=bin)
- use LIB_SUFFIX as e.g. KDE does it
  LIGHTTPD_MODULES_DIR becomes "lib${LIB_SUFFIX}/lighttpd"
- install spawn-fcgi and fcgi-stat-accl
- move the target list entry for lighttpd.
- added cmakedefines for fastcgi.h
------------------------------------------------------------------------
r1820 | jan | 2007-04-20 15:10:16 -0400 (Fri, 20 Apr 2007) | 2 lines

fixed error-msg if no matching encoding was found

------------------------------------------------------------------------
r1822 | glen | 2007-05-03 18:09:27 -0400 (Thu, 03 May 2007) | 2 lines

- splling fixes by Ryan Schmidt (patch from mailing list)

------------------------------------------------------------------------
r1823 | jan | 2007-05-07 05:46:05 -0400 (Mon, 07 May 2007) | 2 lines

fcgi-stat-accel wanted HAVE_UNISTD_H and HAVE_PTHREAD_H

------------------------------------------------------------------------
r1824 | jan | 2007-05-07 06:01:33 -0400 (Mon, 07 May 2007) | 2 lines

display a useful error-msg if proxy-core.check-local is set

------------------------------------------------------------------------
r1825 | jan | 2007-05-07 06:02:07 -0400 (Mon, 07 May 2007) | 2 lines

allow $PHYSICAL[] with setenv.*

------------------------------------------------------------------------
r1826 | jan | 2007-05-07 06:02:32 -0400 (Mon, 07 May 2007) | 2 lines

updated template for the unistd.h and pthread.h checks

------------------------------------------------------------------------
r1827 | jan | 2007-05-08 03:22:34 -0400 (Tue, 08 May 2007) | 3 lines

- made SEGFAULT() a normal log-macro
- added valgrind.h to the distribution

------------------------------------------------------------------------
r1828 | jan | 2007-05-08 03:55:20 -0400 (Tue, 08 May 2007) | 2 lines

dump the header if the have a parse error

------------------------------------------------------------------------
r1829 | jan | 2007-05-08 06:41:25 -0400 (Tue, 08 May 2007) | 3 lines

added mod_fastcgi as place-holder module which complains about the
deprecated fastcgi options

------------------------------------------------------------------------
r1830 | jan | 2007-05-08 06:42:02 -0400 (Tue, 08 May 2007) | 2 lines

fixed double close() of the client socket

------------------------------------------------------------------------
r1831 | jan | 2007-05-08 06:42:26 -0400 (Tue, 08 May 2007) | 2 lines

fixed symbol-clash before mod_fastcgi and mod_cgi

------------------------------------------------------------------------
r1832 | jan | 2007-05-08 06:42:50 -0400 (Tue, 08 May 2007) | 2 lines

added the dummy-mod-fastcgi the list of static modules

------------------------------------------------------------------------
r1833 | jan | 2007-05-08 06:46:25 -0400 (Tue, 08 May 2007) | 2 lines

added the valgrind.h to the dist-package

------------------------------------------------------------------------
r1834 | jan | 2007-05-08 08:23:45 -0400 (Tue, 08 May 2007) | 3 lines

the trailing newline in the print_config was still sent to stderr
instead of stdout

------------------------------------------------------------------------
r1835 | jan | 2007-05-08 08:25:22 -0400 (Tue, 08 May 2007) | 2 lines

complain about the internal user-vars (var.CWD and var.PID) specificly

------------------------------------------------------------------------
r1836 | jan | 2007-05-08 08:28:01 -0400 (Tue, 08 May 2007) | 2 lines

fixed the loading for default modules if they are specified explicitly

------------------------------------------------------------------------
r1837 | jan | 2007-05-08 08:28:47 -0400 (Tue, 08 May 2007) | 3 lines

removed the covering 'config { ... }' + indention to make the printed
configfile parsable 

------------------------------------------------------------------------
r1838 | jan | 2007-05-08 10:27:12 -0400 (Tue, 08 May 2007) | 2 lines

allow to rewrite the pathinfo if no path-check is enabled

------------------------------------------------------------------------
r1839 | jan | 2007-05-08 11:24:31 -0400 (Tue, 08 May 2007) | 2 lines

fixed handling delayed padding bytes

------------------------------------------------------------------------
r1840 | jan | 2007-05-08 11:32:38 -0400 (Tue, 08 May 2007) | 2 lines

added missing Makefile.am

------------------------------------------------------------------------
r1841 | jan | 2007-05-08 11:47:18 -0400 (Tue, 08 May 2007) | 2 lines

allow to rewrite PATH_INFO and SCRIPT_NAME. trac needs that

------------------------------------------------------------------------
r1842 | darix | 2007-05-08 12:15:26 -0400 (Tue, 08 May 2007) | 4 lines

- added unistd.h for pread()
  this still needs some more work to get the needed defines as pread is
  ifdef-ed for __USE_UNIX98

------------------------------------------------------------------------
r1843 | darix | 2007-05-08 12:18:53 -0400 (Tue, 08 May 2007) | 3 lines

- revert previous commit. unistd gets pulled in by sys-files.h we just
  need to set the right defines somewhere.

------------------------------------------------------------------------
r1844 | jan | 2007-05-08 12:20:09 -0400 (Tue, 08 May 2007) | 2 lines

set the proper defines to get pread() and MAN_ANON

------------------------------------------------------------------------
r1845 | darix | 2007-05-08 12:24:58 -0400 (Tue, 08 May 2007) | 3 lines

- append query string to the uri column
- make the table cell content nowrap

------------------------------------------------------------------------
r1847 | jan | 2007-05-08 12:33:08 -0400 (Tue, 08 May 2007) | 4 lines

allow a single leading CRLF before the http-method
- with keep-alive we might get a CRLF after the content
  of the POST request

------------------------------------------------------------------------
r1848 | jan | 2007-05-08 12:40:59 -0400 (Tue, 08 May 2007) | 2 lines

improved debug-message for: fastcgi, illegal close

------------------------------------------------------------------------
r1849 | jan | 2007-05-09 01:27:43 -0400 (Wed, 09 May 2007) | 4 lines

don't announce fastcgi-keepalive if it is disabled in the config. 
- fixed a problems with rails where unix-sockets aren't monitored for
  remote-close

------------------------------------------------------------------------
r1850 | jan | 2007-05-09 05:36:35 -0400 (Wed, 09 May 2007) | 2 lines

fixed premature close of fastcgi connections on status 304

------------------------------------------------------------------------
r1851 | jan | 2007-05-09 09:52:55 -0400 (Wed, 09 May 2007) | 2 lines

removed debug-message from normal output

------------------------------------------------------------------------
r1853 | darix | 2007-05-09 12:11:59 -0400 (Wed, 09 May 2007) | 2 lines

- restore the old return code with configured 404 handlers

------------------------------------------------------------------------
r1854 | jan | 2007-05-10 07:00:58 -0400 (Thu, 10 May 2007) | 2 lines

improved error-msg on unexpected FDEVENT_OUT

------------------------------------------------------------------------
r1855 | jan | 2007-05-15 05:18:51 -0400 (Tue, 15 May 2007) | 2 lines

auto-detect auto* on freebsd

------------------------------------------------------------------------
r1856 | darix | 2007-05-16 09:38:50 -0400 (Wed, 16 May 2007) | 3 lines

- applied patch from [#1138]:
  mod_proxy_core crashed for X-Rewrite-* feature. patch by qhy.

------------------------------------------------------------------------
r1857 | jan | 2007-05-21 04:27:31 -0400 (Mon, 21 May 2007) | 3 lines

fixed 'mod_proxy_backend_fastcgi not copying connection environment'
(fixes #1185) (patch by marcusSt)

------------------------------------------------------------------------
r1858 | moo | 2007-05-23 21:05:37 -0400 (Wed, 23 May 2007) | 2 lines

applied patch from #1195

------------------------------------------------------------------------
r1859 | moo | 2007-05-25 07:42:11 -0400 (Fri, 25 May 2007) | 2 lines

marked as executable

------------------------------------------------------------------------
r1861 | darix | 2007-05-25 08:45:53 -0400 (Fri, 25 May 2007) | 2 lines

- do not use xattr for content-type handling unconditionally

------------------------------------------------------------------------
r1865 | darix | 2007-05-25 10:26:13 -0400 (Fri, 25 May 2007) | 2 lines

- add the orig_uri to the uri column

------------------------------------------------------------------------
r1866 | moo | 2007-06-03 00:03:57 -0400 (Sun, 03 Jun 2007) | 2 lines

applied patch from #1179, support -F flags for spawn-fcgi

------------------------------------------------------------------------
r1867 | moo | 2007-06-11 08:55:53 -0400 (Mon, 11 Jun 2007) | 4 lines

name/value table sort out for network backend and event handlers.
 * improved "lighttpd -v" and mod_status for end users
 * easy the pain maintaining the table for devel yet ugly #ifdefS

------------------------------------------------------------------------
r1868 | moo | 2007-06-11 08:56:45 -0400 (Mon, 11 Jun 2007) | 2 lines

build fixes for mingw32

------------------------------------------------------------------------
r1876 | moo | 2007-06-17 09:15:06 -0400 (Sun, 17 Jun 2007) | 2 lines

i didn't mean to commit this in [1868]

------------------------------------------------------------------------
r1877 | moo | 2007-06-17 09:18:20 -0400 (Sun, 17 Jun 2007) | 2 lines

reverted wrong commit in [1868] and ws fixes

------------------------------------------------------------------------
r1878 | moo | 2007-06-17 09:57:13 -0400 (Sun, 17 Jun 2007) | 2 lines

make CFLAGS debug friendly

------------------------------------------------------------------------
r1884 | jan | 2007-08-12 07:18:04 -0400 (Sun, 12 Aug 2007) | 2 lines

added a FIXME comment 

------------------------------------------------------------------------
r1885 | jan | 2007-08-12 07:18:24 -0400 (Sun, 12 Aug 2007) | 2 lines

added (incomplete) support for a non-glib compile

------------------------------------------------------------------------
r1886 | jan | 2007-08-12 07:35:19 -0400 (Sun, 12 Aug 2007) | 2 lines

ported return codes to the current interface

------------------------------------------------------------------------
r1888 | jan | 2007-08-12 15:12:09 -0400 (Sun, 12 Aug 2007) | 4 lines

- fixed return type of filter_move_all()
- remove finished chunks from the filter-queue when we moved all the
  chunks to the chunk-queue

------------------------------------------------------------------------
r1889 | jan | 2007-08-12 15:12:47 -0400 (Sun, 12 Aug 2007) | 3 lines

added some debug code to catch plugins which don't cleanup there
filter-queues 

------------------------------------------------------------------------
r1890 | jan | 2007-08-12 15:13:21 -0400 (Sun, 12 Aug 2007) | 2 lines

added checks for glib.h and added the defines to the config.h.cmake

------------------------------------------------------------------------
r1891 | jan | 2007-08-12 15:14:50 -0400 (Sun, 12 Aug 2007) | 4 lines

- added a global pool of unused chunks instead of a per chunkqueue pool
- added comments and WS fixes
- added chunk_is_done() and chunk_set_done()

------------------------------------------------------------------------
r1893 | jan | 2007-08-12 15:32:45 -0400 (Sun, 12 Aug 2007) | 4 lines

- fixed more return types to be off_t instead of int
- added more comments
- use chunk_set_done() and chunk_is_done() if possible

------------------------------------------------------------------------
r1896 | jan | 2007-08-12 18:02:07 -0400 (Sun, 12 Aug 2007) | 4 lines

- added parsing of X-Progress-ID=... from the query-string
- fixed memory-leak
- cleaned up the connection-map 

------------------------------------------------------------------------
r1897 | jan | 2007-08-13 05:49:48 -0400 (Mon, 13 Aug 2007) | 2 lines

replaced hard-coded fonts and font-size by relative sizes (fixes #1267)

------------------------------------------------------------------------
r1905 | jan | 2007-08-14 14:06:51 -0400 (Tue, 14 Aug 2007) | 2 lines

handle a interupted wait() in the angel-loop (fixes #1301)

------------------------------------------------------------------------
r1909 | jan | 2007-08-15 05:50:58 -0400 (Wed, 15 Aug 2007) | 2 lines

merged [1908] from 1.4.x (fixes #1279)

------------------------------------------------------------------------
r1910 | jan | 2007-08-15 06:36:35 -0400 (Wed, 15 Aug 2007) | 2 lines

wait() returns the PID, check against -1 (fixes #1301 again)

------------------------------------------------------------------------
r1912 | jan | 2007-08-15 07:23:01 -0400 (Wed, 15 Aug 2007) | 3 lines

fixed dir-listing.exclude in conditional (merges [1732] from 1.4.x and
fixes #930 for 1.5.0)

------------------------------------------------------------------------
r1913 | jan | 2007-08-15 07:25:57 -0400 (Wed, 15 Aug 2007) | 3 lines

added dir-listing.set-footer (merges [1910] from 1.4.x and 
fixes #1277)

------------------------------------------------------------------------
r1914 | jan | 2007-08-15 07:38:49 -0400 (Wed, 15 Aug 2007) | 6 lines

added protection that CONTENT_LENGTH is only added to the env 
if it is > 0

- added the CGI test cases to the test-suite again
- added testcase to verify the patch works

------------------------------------------------------------------------
r1915 | jan | 2007-08-15 07:40:19 -0400 (Wed, 15 Aug 2007) | 2 lines

fixed testcase for #1276

------------------------------------------------------------------------
r1916 | jan | 2007-08-15 07:47:05 -0400 (Wed, 15 Aug 2007) | 3 lines

added a sentinel around NULL in exec() (merged from [1872] from 1.4.x,
fixes #1235)

------------------------------------------------------------------------
r1917 | jan | 2007-08-15 08:01:37 -0400 (Wed, 15 Aug 2007) | 2 lines

removed define of _XOPEN_SOURCE 500 (fixes #1240 and #1251)

------------------------------------------------------------------------
r1920 | glen | 2007-08-17 02:39:03 -0400 (Fri, 17 Aug 2007) | 1 line

- set mysql reconnect to on. #1240
------------------------------------------------------------------------
r1921 | glen | 2007-08-17 02:43:49 -0400 (Fri, 17 Aug 2007) | 1 line

- update NEWS
------------------------------------------------------------------------
r1930 | jan | 2007-08-17 17:52:02 -0400 (Fri, 17 Aug 2007) | 3 lines

fixed invalid 304 for broken timestamps in If-Modified-Since 
(merges [1926] from 1.4.x)

------------------------------------------------------------------------
r1931 | jan | 2007-08-17 18:05:54 -0400 (Fri, 17 Aug 2007) | 3 lines

mod_mysql_vhost and mod_postgres_vhost are merged into
mod_sql_vhost_core

------------------------------------------------------------------------
r1934 | jan | 2007-08-17 18:22:32 -0400 (Fri, 17 Aug 2007) | 2 lines

fixed endless loop on shrinked files on *BSD (fixes #1289)

------------------------------------------------------------------------
r1936 | jan | 2007-08-17 18:23:42 -0400 (Fri, 17 Aug 2007) | 2 lines

the input fd is cached now

------------------------------------------------------------------------
r1939 | jan | 2007-08-17 18:39:13 -0400 (Fri, 17 Aug 2007) | 4 lines

removed config-checks if userfiles exist (fixes #1188)

(it is good enough if the file exists when we need it)

------------------------------------------------------------------------
r1945 | jan | 2007-08-18 05:46:07 -0400 (Sat, 18 Aug 2007) | 2 lines

use sizeof(sun_path) instead of guessing UNIX_PATH_MAX (fixes #713)

------------------------------------------------------------------------
r1949 | jan | 2007-08-18 07:42:13 -0400 (Sat, 18 Aug 2007) | 2 lines

fixed extra Content-Length header on 1xx, 204 and 304 (fixes #1102)

------------------------------------------------------------------------
r1950 | jan | 2007-08-18 07:43:05 -0400 (Sat, 18 Aug 2007) | 3 lines

added test-scripts to check status-code parsing of NPH scripts 
(merged [1948] from 1.4.x)

------------------------------------------------------------------------
r1952 | jan | 2007-08-18 08:29:13 -0400 (Sat, 18 Aug 2007) | 2 lines

renamed ltostr() to LI_ltostr() (merged [1951] from 1.4.x, fixes #465)

------------------------------------------------------------------------
r1953 | jan | 2007-08-20 08:47:21 -0400 (Mon, 20 Aug 2007) | 2 lines

fixed to missed renames for ltostr() -> LI_ltostr()

------------------------------------------------------------------------
r1959 | jan | 2007-08-21 19:36:20 -0400 (Tue, 21 Aug 2007) | 3 lines

added logging of the PID and UID of the sending process for SIGTERM and
SIGINT

------------------------------------------------------------------------
r1960 | jan | 2007-08-21 19:36:51 -0400 (Tue, 21 Aug 2007) | 3 lines

use str_to_off_t instead of strtoll() which might not be available on
all platforms

------------------------------------------------------------------------
r1961 | jan | 2007-08-21 19:37:46 -0400 (Tue, 21 Aug 2007) | 2 lines

fixed prctl() usage (#1310)

------------------------------------------------------------------------
r1962 | jan | 2007-08-22 05:04:00 -0400 (Wed, 22 Aug 2007) | 2 lines

check for strtoll

------------------------------------------------------------------------
r1963 | darix | 2007-08-23 07:57:14 -0400 (Thu, 23 Aug 2007) | 1 line

- added AM_PROG_CC_C_O as autotools suggest
------------------------------------------------------------------------
r1964 | jan | 2007-08-23 07:58:13 -0400 (Thu, 23 Aug 2007) | 2 lines

fixed possible fd-leak (fixes #1315)

------------------------------------------------------------------------
r1966 | jan | 2007-08-27 08:16:12 -0400 (Mon, 27 Aug 2007) | 2 lines

added a msg to run autogen.sh 

------------------------------------------------------------------------
r1970 | jan | 2007-08-27 17:50:00 -0400 (Mon, 27 Aug 2007) | 2 lines

protect buffer_is_empty() from NULL buffers

------------------------------------------------------------------------
r1973 | jan | 2007-08-28 18:03:03 -0400 (Tue, 28 Aug 2007) | 2 lines

fixed crash if module init failed

------------------------------------------------------------------------
r1979 | jan | 2007-09-02 15:48:08 -0400 (Sun, 02 Sep 2007) | 2 lines

fixed compile-error on IRIX on prctl() (fixes #1333)

------------------------------------------------------------------------
r1986 | jan | 2007-09-06 17:18:43 -0400 (Thu, 06 Sep 2007) | 3 lines

fixed FastCGI header overrun in mod_fastcgi (reported by
mattias@secweb.se)

------------------------------------------------------------------------
r1988 | jan | 2007-09-06 17:29:24 -0400 (Thu, 06 Sep 2007) | 2 lines

handle sig_hup in the angel too

------------------------------------------------------------------------
r1990 | jan | 2007-09-06 17:41:29 -0400 (Thu, 06 Sep 2007) | 12 lines

merged [1875] from 1.4.x

  * fixed mem-leak in mod_auth (reported by Stefan Esser)
  * fixed crash with md5-sess and cnonce not set in mod_auth (reported
  * by Stefan Esser)
  * fixed missing check for base64 encoded string in mod_auth and Basic
  * auth
    (reported by Stefan Esser)
  * fixed possible crash in Auth-Digest header parser on trailing WS in
    mod_auth (reported by Stefan Esser)


------------------------------------------------------------------------
r1991 | jan | 2007-09-06 18:01:21 -0400 (Thu, 06 Sep 2007) | 5 lines

merged [1956]

* fixed timestamps for 32bit time_t which wraps at 2038


------------------------------------------------------------------------
r1992 | jan | 2007-09-06 18:04:13 -0400 (Thu, 06 Sep 2007) | 2 lines

moved some tests to TODO

------------------------------------------------------------------------
r1995 | jan | 2007-09-09 07:59:22 -0400 (Sun, 09 Sep 2007) | 6 lines

fixed #1341

- use strchr*( instead of index() to be POSIX compliant 
- MYSQL_OPT_RECONNECT is 5.0.3+ only


------------------------------------------------------------------------
r1999 | jan | 2007-09-09 17:32:02 -0400 (Sun, 09 Sep 2007) | 2 lines

updated default config to use PHYSICAL["existing-path"]

------------------------------------------------------------------------
r2001 | jan | 2007-10-05 07:26:48 -0400 (Fri, 05 Oct 2007) | 5 lines

fixed decoding of common headers in APJ13 (fixes #1399)

- added a bunch of debug code to make tracing easier and catching such
  errors when they happen

------------------------------------------------------------------------
r2002 | jan | 2007-10-26 18:20:08 -0400 (Fri, 26 Oct 2007) | 2 lines

disabled linux-aio and posix-aio for now as experimental

------------------------------------------------------------------------
r2003 | jan | 2007-10-26 18:29:01 -0400 (Fri, 26 Oct 2007) | 2 lines

fixed a type-mismatch detected by gcc 4.3

------------------------------------------------------------------------
r2004 | jan | 2007-10-26 18:51:29 -0400 (Fri, 26 Oct 2007) | 2 lines

enforce cmake 2.4.0 or higher

------------------------------------------------------------------------
r2005 | jan | 2007-10-26 19:41:06 -0400 (Fri, 26 Oct 2007) | 2 lines

fixed compile on solaris 11

------------------------------------------------------------------------
r2006 | jan | 2007-10-27 10:57:49 -0400 (Sat, 27 Oct 2007) | 2 lines

fixed missing declarations

------------------------------------------------------------------------
r2007 | jan | 2007-10-27 10:58:10 -0400 (Sat, 27 Oct 2007) | 2 lines

enforce check for pcre-config if --with-pcre is specified

------------------------------------------------------------------------
r2008 | jan | 2007-10-27 14:18:49 -0400 (Sat, 27 Oct 2007) | 2 lines

fixed writev() interface for solaris (EINVAL all the time)

------------------------------------------------------------------------
r2009 | jan | 2007-10-27 19:05:43 -0400 (Sat, 27 Oct 2007) | 2 lines

fixed support for tracing on solaris with gdb and truss

------------------------------------------------------------------------
r2010 | jan | 2007-10-27 19:06:17 -0400 (Sat, 27 Oct 2007) | 2 lines

fixed initgroup() failing as it is called after chroot() (fixes #1384)

------------------------------------------------------------------------
r2011 | jan | 2007-10-27 19:07:04 -0400 (Sat, 27 Oct 2007) | 3 lines

fixed several crashes in log-request-handling with %s being NULL on
solaris

------------------------------------------------------------------------
r2014 | glen | 2007-11-04 12:21:55 -0500 (Sun, 04 Nov 2007) | 2 lines

- merge Changeset [2012] by glen from 1.4 branch

------------------------------------------------------------------------
r2015 | glen | 2007-11-04 12:24:31 -0500 (Sun, 04 Nov 2007) | 2 lines

- remove pre 1.5 changes as it continues in 1.4 branch

------------------------------------------------------------------------
r2017 | glen | 2007-11-05 04:04:00 -0500 (Mon, 05 Nov 2007) | 1 line

- include SConstruct in tarball
------------------------------------------------------------------------
r2018 | glen | 2007-11-05 04:07:17 -0500 (Mon, 05 Nov 2007) | 1 line

- cosmetics, update URL
------------------------------------------------------------------------
r2022 | glen | 2007-11-10 11:50:07 -0500 (Sat, 10 Nov 2007) | 1 line

- typo
------------------------------------------------------------------------
r2025 | glen | 2007-11-12 11:12:50 -0500 (Mon, 12 Nov 2007) | 1 line

- use execv() directly to fcgi app if used as argument. resolves #1428
------------------------------------------------------------------------
r2028 | glen | 2008-01-15 17:06:43 -0500 (Tue, 15 Jan 2008) | 1 line

- change s/// separator that it doesn't confuse vim
------------------------------------------------------------------------
r2029 | glen | 2008-01-15 17:16:13 -0500 (Tue, 15 Jan 2008) | 1 line

- con->bytes_read is not set. #1514
------------------------------------------------------------------------
r2031 | glen | 2008-01-15 18:24:34 -0500 (Tue, 15 Jan 2008) | 1 line

- Remove a TRACE from proxy_core_address. patch from #1516
------------------------------------------------------------------------
r2032 | glen | 2008-01-15 18:27:52 -0500 (Tue, 15 Jan 2008) | 1 line

- Enforce use of ARRAY_STATIC_FREE instead of FOREACH(...); if (x->ptr) free(x->ptr); resolves #1515
------------------------------------------------------------------------
r2033 | glen | 2008-01-15 18:59:25 -0500 (Tue, 15 Jan 2008) | 1 line

- chunk.c patches from #1510
------------------------------------------------------------------------
r2036 | glen | 2008-01-15 19:47:37 -0500 (Tue, 15 Jan 2008) | 1 line

- ssl.cipher-list and ssl.use-sslv2 ported from 1.4.x (#1422)
------------------------------------------------------------------------
r2039 | moo | 2008-01-15 20:31:58 -0500 (Tue, 15 Jan 2008) | 2 lines

mysqlvhost.txt is removed in [1931]

------------------------------------------------------------------------
r2046 | glen | 2008-01-17 04:55:07 -0500 (Thu, 17 Jan 2008) | 1 line

- add IdleServers and Scoreboard directives in ?auto mode for mod_status (#1507)
------------------------------------------------------------------------
r2047 | glen | 2008-01-17 05:15:19 -0500 (Thu, 17 Jan 2008) | 1 line

- FDEVENT_OUT fix from #1521
------------------------------------------------------------------------
r2048 | glen | 2008-01-17 05:27:47 -0500 (Thu, 17 Jan 2008) | 1 line

- shutup many compiler warnings. #1513
------------------------------------------------------------------------
r2050 | glen | 2008-01-17 07:40:00 -0500 (Thu, 17 Jan 2008) | 1 line

- add .jar mimetype. #1503
------------------------------------------------------------------------
r2055 | glen | 2008-01-18 05:54:15 -0500 (Fri, 18 Jan 2008) | 1 line

- mod_deflate: filesize check is too weak, move to new logstyle. #1512
------------------------------------------------------------------------
r2056 | glen | 2008-01-18 06:02:27 -0500 (Fri, 18 Jan 2008) | 1 line

- proper type
------------------------------------------------------------------------
r2057 | glen | 2008-01-18 06:05:47 -0500 (Fri, 18 Jan 2008) | 1 line

- give compiler hint that log_trace is printf format args
------------------------------------------------------------------------
r2059 | glen | 2008-01-18 07:53:45 -0500 (Fri, 18 Jan 2008) | 1 line

- support letterhomes in mod_userdir (#1473)
------------------------------------------------------------------------
r2060 | glen | 2008-01-18 10:19:01 -0500 (Fri, 18 Jan 2008) | 1 line

- fix printf format warnings. Stefan Buhler
------------------------------------------------------------------------
r2062 | glen | 2008-01-26 19:00:24 -0500 (Sat, 26 Jan 2008) | 1 line

- mod_auth ldap rework, most important change is being able to startup if ldap server is down (#1535)
------------------------------------------------------------------------
r2064 | jan | 2008-01-28 02:00:56 -0500 (Mon, 28 Jan 2008) | 2 lines

fixed ECONNRESET handling in network-openssl (suppress error-msg)

------------------------------------------------------------------------
r2067 | glen | 2008-01-28 04:28:23 -0500 (Mon, 28 Jan 2008) | 1 line

- conditions for USE_LDAP for compiler errors. #1535
------------------------------------------------------------------------
r2068 | jan | 2008-01-29 15:53:49 -0500 (Tue, 29 Jan 2008) | 3 lines

removed 'linux-libaio' from the list of disabled features as we can't
enable it anyway

------------------------------------------------------------------------
r2069 | jan | 2008-01-29 16:23:31 -0500 (Tue, 29 Jan 2008) | 4 lines

forgot about m4 still seeing the AC_* macros for libaio support.
removing all the references to it to make sure the option
--enable-linux-libaio is really gone

------------------------------------------------------------------------
r2070 | jan | 2008-01-31 14:23:40 -0500 (Thu, 31 Jan 2008) | 5 lines

fixed error-handling for syscall errors

* EPIPE and ECONNRESET are ok
* the rest is FATAL

------------------------------------------------------------------------
r2071 | jan | 2008-02-01 10:27:51 -0500 (Fri, 01 Feb 2008) | 5 lines

fixed log_write() for log-files > 4kbyte

the buffer_prepare_append() works against a "used" buffer, but ->used
get's never updated. With older glibc's which leads to a infinite loop

------------------------------------------------------------------------
r2073 | jan | 2008-02-11 16:15:39 -0500 (Mon, 11 Feb 2008) | 2 lines

limit the number of resizes for large log-messages (from stbuehler)

------------------------------------------------------------------------
r2074 | jan | 2008-02-12 09:17:40 -0500 (Tue, 12 Feb 2008) | 5 lines

fixed error-msg on connection-shutdown if memory-chunks are sent
(SSL_ERROR_ZERO_RETURN).

for the file-chunks we handled it correctly already

------------------------------------------------------------------------
r2075 | jan | 2008-02-12 15:26:01 -0500 (Tue, 12 Feb 2008) | 2 lines

store the original errno

------------------------------------------------------------------------
r2076 | jan | 2008-02-12 15:40:23 -0500 (Tue, 12 Feb 2008) | 2 lines

we need some space for the NUL-char too, fixes infinite loop

------------------------------------------------------------------------
r2077 | jan | 2008-02-12 15:44:48 -0500 (Tue, 12 Feb 2008) | 2 lines

store the original errno of SSL_read() in case of a syscall error

------------------------------------------------------------------------
r2108 | stbuehler | 2008-02-28 16:21:41 -0500 (Thu, 28 Feb 2008) | 2 lines

* fix sending source of cgi script instead of 500 error if fork fails

------------------------------------------------------------------------
r2110 | stbuehler | 2008-02-28 17:38:28 -0500 (Thu, 28 Feb 2008) | 2 lines

fix min-procs handling in mod_scgi.c, just set to max-procs (patch from #623)

------------------------------------------------------------------------
r2116 | stbuehler | 2008-03-02 10:42:14 -0500 (Sun, 02 Mar 2008) | 6 lines

mod_cgi: add a event-handler for STDERR_FILENO and log it with ERROR()

 - it was not a good idea to just close STDERR_FILENO; if the cgi
   opens a file and gets the filedescriptor 2 it will write its errors
   to this file too (imagine a cgi generating some images... )

------------------------------------------------------------------------
r2117 | stbuehler | 2008-03-04 17:12:13 -0500 (Tue, 04 Mar 2008) | 2 lines

fixed building/testing outside of the src dir

------------------------------------------------------------------------
r2118 | stbuehler | 2008-03-04 17:12:35 -0500 (Tue, 04 Mar 2008) | 2 lines

Add option to configure verbosity of check in commandline: "VERBOSE=1 make check"

------------------------------------------------------------------------
r2131 | stbuehler | 2008-03-20 13:33:22 -0400 (Thu, 20 Mar 2008) | 27 lines

fix many (64-bit) format warnings and unsigned/signed compare warnings

Observations:
 - 32-bit platform (linux):
   * size_t: 32-bit unsigned
   * ssize_t: 32-bit signed (should always be the same size as size_t)
   * off_t: 64-bit signed (should be always signed)
      (it is 64 bit as we use LARGE_FILE options, without we couldn't handle files > 4GB)
 - 64-bit platform:
   * size_t: 64-bit unsigned
   * ssize_t: 64-bit signed
   * off_t: 64-bit signed

Fixes:
 - off_t will be casted to (intmax_t) and formatted with "%jd"
 - size_t gets formatted with "%zu"
 - ssize_t gets formatted witz "%zd"
 - off_t/size_t comparisons:
   This is no problem if off_t is bigger then size_t; the compiler will just
   case size_t to off_t which is no problem in that case.

   Now, on 64-bit they have the same size but differ in signedness; i cast
   size_t to off_t manually anyway and just hope, that no one is using such big
   numbers (on 64-bit this is a really big number).
   This was mostly in mmap code, and as we only mmap small chunks i don't think this
   is a problem.

------------------------------------------------------------------------
r2132 | stbuehler | 2008-03-21 10:50:03 -0400 (Fri, 21 Mar 2008) | 2 lines

fixed out of range access in fd array (#1562, #372, #1603) (CVE-2008-0983)

------------------------------------------------------------------------
r2133 | stbuehler | 2008-03-21 10:57:02 -0400 (Fri, 21 Mar 2008) | 2 lines

fix auth-ldap configuration in tests

------------------------------------------------------------------------
r2134 | stbuehler | 2008-03-21 11:17:06 -0400 (Fri, 21 Mar 2008) | 2 lines

fcgi-stat-accel: Fix unused var / indentation

------------------------------------------------------------------------
r2135 | stbuehler | 2008-03-21 11:22:50 -0400 (Fri, 21 Mar 2008) | 2 lines

Fix mod_compress bug (#1027)

------------------------------------------------------------------------
r2140 | stbuehler | 2008-03-30 09:19:53 -0400 (Sun, 30 Mar 2008) | 2 lines

fix ssl error queue handling (#285) (CVE-2008-1531)

------------------------------------------------------------------------
r2146 | darix | 2008-04-15 10:32:27 -0400 (Tue, 15 Apr 2008) | 3 lines

- fix proxy-core.rewrite-request (#1600)
  patch by hoffie

------------------------------------------------------------------------
r2168 | stbuehler | 2008-05-06 07:29:17 -0400 (Tue, 06 May 2008) | 2 lines

fix dependencies of the parser files in the Makefile

------------------------------------------------------------------------
r2169 | stbuehler | 2008-05-06 07:29:27 -0400 (Tue, 06 May 2008) | 2 lines

fix server.kbytes-per-second (#1102)

------------------------------------------------------------------------
r2170 | moo | 2008-05-14 21:12:35 -0400 (Wed, 14 May 2008) | 2 lines

fixed #1664: fixed include basedir within include_shell, thanks to lunatic

------------------------------------------------------------------------
r2175 | moo | 2008-05-22 02:27:34 -0400 (Thu, 22 May 2008) | 2 lines

mark testcase executable

------------------------------------------------------------------------
r2177 | moo | 2008-05-22 02:49:58 -0400 (Thu, 22 May 2008) | 2 lines

avoid undefined index triggered by user's php.ini

------------------------------------------------------------------------
r2179 | moo | 2008-05-22 03:17:50 -0400 (Thu, 22 May 2008) | 2 lines

reduce duplicate code for building command line

------------------------------------------------------------------------
r2180 | moo | 2008-05-22 03:55:38 -0400 (Thu, 22 May 2008) | 2 lines

fix possible % format code injection in sprintf

------------------------------------------------------------------------
r2181 | moo | 2008-05-22 04:49:16 -0400 (Thu, 22 May 2008) | 2 lines

make test run for cmake

------------------------------------------------------------------------
r2183 | moo | 2008-05-26 06:08:31 -0400 (Mon, 26 May 2008) | 2 lines

remove \n from EXEC_PROGRAM correctly

------------------------------------------------------------------------
r2184 | moo | 2008-05-26 06:09:32 -0400 (Mon, 26 May 2008) | 2 lines

added ADD_TARGET_PROPERTIES to simplify code. use pkg-config for checking lua

------------------------------------------------------------------------
r2185 | moo | 2008-05-26 07:44:13 -0400 (Mon, 26 May 2008) | 2 lines

removed debug code

------------------------------------------------------------------------
r2186 | moo | 2008-05-26 08:10:45 -0400 (Mon, 26 May 2008) | 2 lines

fixed ADD_TARGET_PROPERTIES arg shifting

------------------------------------------------------------------------
r2187 | moo | 2008-05-26 08:15:51 -0400 (Mon, 26 May 2008) | 2 lines

link mod_magnet with lua 5.1 on debian correctly

------------------------------------------------------------------------
r2188 | moo | 2008-05-26 08:41:30 -0400 (Mon, 26 May 2008) | 2 lines

common example script on how to build with cmake

------------------------------------------------------------------------
r2189 | moo | 2008-05-26 22:00:24 -0400 (Mon, 26 May 2008) | 2 lines

s/WIN32/WIN32/g

------------------------------------------------------------------------
r2190 | moo | 2008-05-26 23:10:06 -0400 (Mon, 26 May 2008) | 2 lines

removed svn:executable property from source files

------------------------------------------------------------------------
r2195 | glen | 2008-07-14 10:41:00 -0400 (Mon, 14 Jul 2008) | 1 line

- strerror() wants errno as param not arbitary exit value from spawned child
------------------------------------------------------------------------
r2197 | glen | 2008-07-14 10:48:19 -0400 (Mon, 14 Jul 2008) | 1 line

- print success message to stdout (for discarding it from initscripts)
------------------------------------------------------------------------
r2199 | glen | 2008-07-14 11:45:43 -0400 (Mon, 14 Jul 2008) | 1 line

- let spawn-fcgi propagate exit code from spawned fcgi application
------------------------------------------------------------------------
r2202 | stbuehler | 2008-07-27 10:48:54 -0400 (Sun, 27 Jul 2008) | 2 lines

[tests] Fix test system, use foreground daemons and waitpid

------------------------------------------------------------------------
r2203 | stbuehler | 2008-07-27 10:55:01 -0400 (Sun, 27 Jul 2008) | 2 lines

[tests] Disable mod_proxy test

------------------------------------------------------------------------
r2204 | stbuehler | 2008-07-27 10:55:04 -0400 (Sun, 27 Jul 2008) | 2 lines

[tests] Remake fastcgi test (using mod_proxy_core)

------------------------------------------------------------------------
r2205 | stbuehler | 2008-07-27 11:04:02 -0400 (Sun, 27 Jul 2008) | 2 lines

Fix lemon "uninitialized" warning by making variable global.

------------------------------------------------------------------------
r2206 | stbuehler | 2008-07-27 11:04:05 -0400 (Sun, 27 Jul 2008) | 2 lines

Fix network_gthread_io pread() undefined warning on linux.

------------------------------------------------------------------------
r2207 | stbuehler | 2008-07-27 11:04:07 -0400 (Sun, 27 Jul 2008) | 2 lines

Allocate 'size'+1 bytes if 'size' != 0 in buffer_prepare_copy.

------------------------------------------------------------------------
r2208 | stbuehler | 2008-07-27 11:04:09 -0400 (Sun, 27 Jul 2008) | 2 lines

Fix including of stdint.h in etag.c (#1413)

------------------------------------------------------------------------
r2209 | stbuehler | 2008-07-27 11:04:13 -0400 (Sun, 27 Jul 2008) | 2 lines

Remove unused source files

------------------------------------------------------------------------
r2210 | stbuehler | 2008-07-27 11:14:21 -0400 (Sun, 27 Jul 2008) | 2 lines

mod_status: count all bytes for 'bytes_written' (i.e., cq->bytes_{in,out})

------------------------------------------------------------------------
r2211 | stbuehler | 2008-07-27 11:14:24 -0400 (Sun, 27 Jul 2008) | 2 lines

Disable a debug message in mod_proxy_core_address

------------------------------------------------------------------------
r2212 | stbuehler | 2008-07-27 11:14:26 -0400 (Sun, 27 Jul 2008) | 2 lines

Remove useless debian template files

------------------------------------------------------------------------
r2213 | stbuehler | 2008-07-27 11:14:29 -0400 (Sun, 27 Jul 2008) | 2 lines

Fix chunkqueue length for static error files

------------------------------------------------------------------------
r2214 | stbuehler | 2008-07-27 11:14:31 -0400 (Sun, 27 Jul 2008) | 2 lines

Fix usage of sock_addr structure (only read port if the address familiy matches)

------------------------------------------------------------------------
r2215 | stbuehler | 2008-07-27 11:14:33 -0400 (Sun, 27 Jul 2008) | 2 lines

close connection after redirect in trigger_b4_dl

------------------------------------------------------------------------
r2216 | stbuehler | 2008-07-27 17:01:29 -0400 (Sun, 27 Jul 2008) | 2 lines

[tests] Fix tests needing php running (if not running on port 1026, search them in env[PHP] or /usr/bin/php-cgi)

------------------------------------------------------------------------
r2217 | stbuehler | 2008-07-27 17:01:33 -0400 (Sun, 27 Jul 2008) | 2 lines

Remove scons build system

------------------------------------------------------------------------
r2218 | stbuehler | 2008-07-27 17:01:36 -0400 (Sun, 27 Jul 2008) | 2 lines

Fix memory leak on windows (#1371)

------------------------------------------------------------------------
r2219 | stbuehler | 2008-07-27 17:01:38 -0400 (Sun, 27 Jul 2008) | 2 lines

Do not add Accept-Ranges header if range-request is disabled (#1449)

------------------------------------------------------------------------
r2220 | stbuehler | 2008-07-27 17:01:50 -0400 (Sun, 27 Jul 2008) | 2 lines

Use SAFE_BUF_STR in all output calls.

------------------------------------------------------------------------
r2221 | stbuehler | 2008-07-27 17:01:52 -0400 (Sun, 27 Jul 2008) | 2 lines

mod_compress: match mime-type additionaly against the part before ";" (i.e. without encoding)

------------------------------------------------------------------------
r2224 | stbuehler | 2008-07-28 04:43:38 -0400 (Mon, 28 Jul 2008) | 2 lines

Fix bug with IPv6 in mod_evasive

------------------------------------------------------------------------
r2225 | stbuehler | 2008-07-28 09:56:04 -0400 (Mon, 28 Jul 2008) | 2 lines

[tests] enable mod-setenv.t

------------------------------------------------------------------------
r2226 | stbuehler | 2008-07-28 09:56:07 -0400 (Mon, 28 Jul 2008) | 4 lines

Fix http response parser so it doesn't require any header except the status line.

Fixes "nph" tests in mod-cgi.t, added a new test (content w/o header)

------------------------------------------------------------------------
r2227 | stbuehler | 2008-07-28 09:56:10 -0400 (Mon, 28 Jul 2008) | 2 lines

fix mod_magnet: enable "request.method" and "request.protocol" in lighty.env (#1308)

------------------------------------------------------------------------
r2228 | stbuehler | 2008-07-28 09:56:13 -0400 (Mon, 28 Jul 2008) | 2 lines

mod-proxy-core: only decrement backlog-size counter if we really removed a connection

------------------------------------------------------------------------
r2229 | stbuehler | 2008-07-28 09:56:16 -0400 (Mon, 28 Jul 2008) | 2 lines

mod_magnet: set con->mode if content was generated so lighty doesn't append error messages

------------------------------------------------------------------------
r2230 | stbuehler | 2008-07-28 09:56:18 -0400 (Mon, 28 Jul 2008) | 2 lines

Fix #1574: Check for symlinks after successful pathinfo matching

------------------------------------------------------------------------
r2231 | stbuehler | 2008-07-28 09:56:22 -0400 (Mon, 28 Jul 2008) | 2 lines

return HANDLER_FINISHED after con->mode = p->id in mod_proxy_core

------------------------------------------------------------------------
r2232 | stbuehler | 2008-07-28 09:56:25 -0400 (Mon, 28 Jul 2008) | 2 lines

fix #1396: req-method OPTIONS: do not insert default response if request was denied

------------------------------------------------------------------------
r2233 | stbuehler | 2008-07-28 09:56:29 -0400 (Mon, 28 Jul 2008) | 2 lines

Fix server.max-keep-alive-requests handling

------------------------------------------------------------------------
r2234 | stbuehler | 2008-07-28 09:56:32 -0400 (Mon, 28 Jul 2008) | 2 lines

reset physical.path after mod_magnet request restart

------------------------------------------------------------------------
r2235 | stbuehler | 2008-07-28 11:42:20 -0400 (Mon, 28 Jul 2008) | 2 lines

Fix mod-proxy-backend-http waiting for http body for 304 and 205 (#1178)

------------------------------------------------------------------------
r2236 | stbuehler | 2008-07-28 17:10:26 -0400 (Mon, 28 Jul 2008) | 2 lines

Fix accepting partially read headers from backends (status code not parsed yet)

------------------------------------------------------------------------
r2237 | stbuehler | 2008-07-28 17:10:30 -0400 (Mon, 28 Jul 2008) | 2 lines

Fixed mod_cgi: return HANDLER_FINISHED if handling request.

------------------------------------------------------------------------
r2238 | stbuehler | 2008-07-28 17:10:33 -0400 (Mon, 28 Jul 2008) | 2 lines

Fixed sock_addr reading in mod_cgi.c (#1672)

------------------------------------------------------------------------
r2239 | stbuehler | 2008-07-28 17:10:36 -0400 (Mon, 28 Jul 2008) | 2 lines

Fixed postgresql-vhost module to use all options (#1694)

------------------------------------------------------------------------
r2240 | stbuehler | 2008-07-28 17:21:56 -0400 (Mon, 28 Jul 2008) | 2 lines

Fix #1565: mod_compress should check if the request is already handled, e.g. by fastcgi

------------------------------------------------------------------------
r2245 | stbuehler | 2008-07-30 07:36:59 -0400 (Wed, 30 Jul 2008) | 2 lines

merged from @1874: add ETag configuration (#1442)

------------------------------------------------------------------------
r2246 | stbuehler | 2008-07-30 12:21:31 -0400 (Wed, 30 Jul 2008) | 2 lines

updated INSTALL.svn (thx kes)

------------------------------------------------------------------------
r2248 | stbuehler | 2008-07-30 12:49:49 -0400 (Wed, 30 Jul 2008) | 2 lines

fixed typo in mod_accesslog, localtime instead of localtime_r (#1699)

------------------------------------------------------------------------
r2252 | stbuehler | 2008-07-30 17:16:43 -0400 (Wed, 30 Jul 2008) | 2 lines

case insensitive match for secdownload md5 token (#1710)

------------------------------------------------------------------------
r2254 | stbuehler | 2008-07-30 17:37:44 -0400 (Wed, 30 Jul 2008) | 2 lines

Handle only HEAD, GET and POST in mod_dirlisting (same as in staticfile) (#1687)

------------------------------------------------------------------------
r2259 | stbuehler | 2008-07-31 12:44:57 -0400 (Thu, 31 Jul 2008) | 3 lines

Fix mod_secdownload problem with unsigned time_t (#1688)
Fix sending "408 - Timeout" instead of "410 - Gone" for timedout urls in mod_secdownload (#1440)

------------------------------------------------------------------------
r2260 | stbuehler | 2008-07-31 12:45:00 -0400 (Thu, 31 Jul 2008) | 2 lines

Handle EAGAIN and EINTR for freebsd sendfile (#1675)

------------------------------------------------------------------------
r2261 | stbuehler | 2008-07-31 12:45:03 -0400 (Thu, 31 Jul 2008) | 2 lines

Remove mod_proxy

------------------------------------------------------------------------
r2262 | stbuehler | 2008-07-31 12:45:06 -0400 (Thu, 31 Jul 2008) | 2 lines

[tests] Use LightyTest.pm from 1.4.x

------------------------------------------------------------------------
r2263 | stbuehler | 2008-07-31 12:45:21 -0400 (Thu, 31 Jul 2008) | 3 lines

Replace buffer_{append,copy}_string with the _len variant where possible (#1732, thx crypt)
Replace BUFFER_{APPEND,COPY}_STRING_CONST with _len(b, CONST_STRL_LEN(x))

------------------------------------------------------------------------
r2266 | stbuehler | 2008-08-01 06:07:18 -0400 (Fri, 01 Aug 2008) | 2 lines

Fix buffer_reset to make an empty string

------------------------------------------------------------------------
r2267 | stbuehler | 2008-08-01 06:07:21 -0400 (Fri, 01 Aug 2008) | 2 lines

Fix make dist (remove dummydir)

------------------------------------------------------------------------
r2268 | stbuehler | 2008-08-01 06:07:25 -0400 (Fri, 01 Aug 2008) | 5 lines

Fixed mod_webdav, litmus now passes everything except locks (#1738)
3 warnings in litmus 0.11:
 * "DELETE removed collection resource with Request-URI including fragment; unsafe" - i don't care about that :)
 * 2x"{COPY, MOVE} to existing collection resource didn't give 204" - bug in litmus

------------------------------------------------------------------------
r2269 | stbuehler | 2008-08-01 07:19:30 -0400 (Fri, 01 Aug 2008) | 2 lines

Fix #1555: HTTP Request/Response only accept complete headers, i.e. ended with double CRLF

------------------------------------------------------------------------
r2273 | stbuehler | 2008-08-01 13:59:07 -0400 (Fri, 01 Aug 2008) | 2 lines

Fixed url encoding to encode more characters (#266)

------------------------------------------------------------------------
r2276 | stbuehler | 2008-08-01 15:29:41 -0400 (Fri, 01 Aug 2008) | 2 lines

Fix dropping last character of evhost pattern (#161)

------------------------------------------------------------------------
r2282 | stbuehler | 2008-08-12 15:52:03 -0400 (Tue, 12 Aug 2008) | 2 lines

Match headers case insensitive in response (removing of X-{Sendfile,LIGHTTPD-*}, catching Date/Server)

------------------------------------------------------------------------
r2290 | stbuehler | 2008-08-19 12:58:40 -0400 (Tue, 19 Aug 2008) | 2 lines

Fix mem leak in ssi expression parser (#1753), thx Take5k

------------------------------------------------------------------------
r2295 | stbuehler | 2008-08-20 09:54:40 -0400 (Wed, 20 Aug 2008) | 8 lines

Fixed parser generating with automake
        
 - we want "make dist" to generate them (so you can use them for cross compiles),
   but we don't want them to be generated in the source dir.
   so if you change the .y files and have an extra build dir, you have to delete
   the generated parsers from your source.
   they get deleted with "make maintainer-clean"

------------------------------------------------------------------------
r2300 | moo | 2008-09-06 23:00:48 -0400 (Sat, 06 Sep 2008) | 2 lines

scgi.txt was removed

------------------------------------------------------------------------
r2301 | moo | 2008-09-13 00:40:04 -0400 (Sat, 13 Sep 2008) | 2 lines

detect crypt correctly

------------------------------------------------------------------------
r2307 | stbuehler | 2008-09-21 15:40:28 -0400 (Sun, 21 Sep 2008) | 2 lines

Decode url before matching in mod_rewrite (#1720)

------------------------------------------------------------------------
r2308 | stbuehler | 2008-09-21 16:03:59 -0400 (Sun, 21 Sep 2008) | 2 lines

Fix bug with case-insensitive filenames in mod_userdir (#1589)

------------------------------------------------------------------------
r2310 | stbuehler | 2008-09-22 06:25:05 -0400 (Mon, 22 Sep 2008) | 2 lines

Use decoded url for matching in mod_redirect (#1720)

------------------------------------------------------------------------
r2311 | stbuehler | 2008-09-23 10:23:06 -0400 (Tue, 23 Sep 2008) | 2 lines

Don't return HANDLER_ERROR from proxy-core content handling, produce 500 instead

------------------------------------------------------------------------
r2328 | glen | 2008-10-04 18:41:51 -0400 (Sat, 04 Oct 2008) | 1 line

- doesn't operate without which program
------------------------------------------------------------------------
r2329 | glen | 2008-10-04 18:55:59 -0400 (Sat, 04 Oct 2008) | 1 line

- exit with error if tool not found
------------------------------------------------------------------------
r2330 | glen | 2008-10-04 19:00:31 -0400 (Sat, 04 Oct 2008) | 1 line

- pkg-config m4 macros needed for proper configure output
------------------------------------------------------------------------
r2331 | glen | 2008-10-04 19:21:55 -0400 (Sat, 04 Oct 2008) | 1 line

- Add possibility to disable methods in mod_compress (#1773)
------------------------------------------------------------------------
r2332 | glen | 2008-10-04 19:23:27 -0400 (Sat, 04 Oct 2008) | 1 line

- enable tests that work
------------------------------------------------------------------------
r2333 | glen | 2008-10-04 19:27:39 -0400 (Sat, 04 Oct 2008) | 1 line

- updated doc from wiki
------------------------------------------------------------------------
r2336 | stbuehler | 2008-10-06 17:34:45 -0400 (Mon, 06 Oct 2008) | 2 lines

do not modify content-length in mod_chunked.c for HEAD requests (produced false Content-Length: 0 headers)

------------------------------------------------------------------------
r2337 | stbuehler | 2008-10-10 09:03:25 -0400 (Fri, 10 Oct 2008) | 2 lines

Fix sending content-length for static HEAD requests

------------------------------------------------------------------------
r2338 | stbuehler | 2008-10-10 18:20:56 -0400 (Fri, 10 Oct 2008) | 2 lines

[tests] Make tests/fastcgi.t executable

------------------------------------------------------------------------
r2339 | stbuehler | 2008-10-10 18:20:59 -0400 (Fri, 10 Oct 2008) | 2 lines

[tests] Fix cmake tests

------------------------------------------------------------------------
r2340 | stbuehler | 2008-10-10 18:21:03 -0400 (Fri, 10 Oct 2008) | 2 lines

Fix content-length probles with non HEAD requests and for generated errors.

------------------------------------------------------------------------
r2341 | stbuehler | 2008-10-10 18:46:23 -0400 (Fri, 10 Oct 2008) | 2 lines

Removed distribution specific stuff (was outdated anyway)

------------------------------------------------------------------------
r2342 | stbuehler | 2008-10-10 19:27:57 -0400 (Fri, 10 Oct 2008) | 2 lines

Use pipe-io instead of SIGUSR1 to wakeup main thread (fixes #1517)

------------------------------------------------------------------------
r2343 | stbuehler | 2008-10-11 05:28:42 -0400 (Sat, 11 Oct 2008) | 2 lines

Use "converted" event flags (fixes #1365)

------------------------------------------------------------------------
r2344 | stbuehler | 2008-10-11 05:49:22 -0400 (Sat, 11 Oct 2008) | 2 lines

Fix ajp13 response header handling (fixes #1628)

------------------------------------------------------------------------
r2345 | stbuehler | 2008-10-11 06:24:39 -0400 (Sat, 11 Oct 2008) | 2 lines

Check for lua and lua5.1 as pkg-config name with autotools

------------------------------------------------------------------------
r2346 | stbuehler | 2008-10-11 07:18:38 -0400 (Sat, 11 Oct 2008) | 2 lines

[tests] Fix mod-rewrite.t skips

------------------------------------------------------------------------
r2354 | moo | 2008-10-25 02:38:38 -0400 (Sat, 25 Oct 2008) | 2 lines

add WITH_OPENSSL in example

------------------------------------------------------------------------
r2355 | stbuehler | 2008-10-26 14:04:41 -0400 (Sun, 26 Oct 2008) | 2 lines

Enhance mod_uploadprogress to show uploaded size after upload is done (closes #1632) by icy

------------------------------------------------------------------------
r2356 | stbuehler | 2008-10-26 16:28:17 -0400 (Sun, 26 Oct 2008) | 2 lines

Fix memory leak in stat-cache (closes #1693), patch by peto

------------------------------------------------------------------------
r2357 | stbuehler | 2008-11-17 15:31:43 -0500 (Mon, 17 Nov 2008) | 2 lines

Fix shutdown leaks (fixes #1811), patch by peto

------------------------------------------------------------------------
r2361 | stbuehler | 2008-12-05 18:40:31 -0500 (Fri, 05 Dec 2008) | 2 lines

[cmake] Fix ipv6 detection

------------------------------------------------------------------------
r2367 | stbuehler | 2008-12-18 17:26:54 -0500 (Thu, 18 Dec 2008) | 2 lines

Fix uninitialized value in time struct after strptime

------------------------------------------------------------------------
r2368 | stbuehler | 2008-12-29 13:51:19 -0500 (Mon, 29 Dec 2008) | 2 lines

Fix bogus send->bytes_in counter (problems with mod-deflate)

------------------------------------------------------------------------
r2369 | stbuehler | 2008-12-31 09:18:01 -0500 (Wed, 31 Dec 2008) | 2 lines

Another send->bytes_in counter fix

------------------------------------------------------------------------
r2370 | stbuehler | 2009-01-14 15:18:24 -0500 (Wed, 14 Jan 2009) | 2 lines

[tests] Added mod-compress.conf from 1.4.x (fixes #1871)

------------------------------------------------------------------------
r2371 | stbuehler | 2009-01-14 15:18:27 -0500 (Wed, 14 Jan 2009) | 2 lines

[tests] Fix cgi tests (may receive chunked encoded response which the framework doesn't handle yet)

------------------------------------------------------------------------
r2373 | stbuehler | 2009-01-26 15:14:15 -0500 (Mon, 26 Jan 2009) | 2 lines

Reformat log output (add timestamp to new log functions)

------------------------------------------------------------------------
r2374 | stbuehler | 2009-01-26 15:24:40 -0500 (Mon, 26 Jan 2009) | 4 lines

Use void as return type for connection state machine - may fix some bugs

 - and use the new log api in src/connections.c

------------------------------------------------------------------------
r2375 | stbuehler | 2009-01-26 15:36:49 -0500 (Mon, 26 Jan 2009) | 2 lines

Fix zero bytes in log output

------------------------------------------------------------------------
r2376 | stbuehler | 2009-01-26 18:21:53 -0500 (Mon, 26 Jan 2009) | 2 lines

Fix select() fdevent backend

------------------------------------------------------------------------
r2377 | stbuehler | 2009-01-26 18:21:58 -0500 (Mon, 26 Jan 2009) | 5 lines

Fix DoS due to unhandled requests (results in hanging connections); return 403 instead of 200

 * without mod_deflate/compressed requests they will eventually time out
 * mod_deflate prevented write-timeout

------------------------------------------------------------------------
r2378 | stbuehler | 2009-01-29 17:21:57 -0500 (Thu, 29 Jan 2009) | 2 lines

Fix incorrected calls of buffer_prepare_append, resulting in endless loop in log_trace()

------------------------------------------------------------------------
r2395 | stbuehler | 2009-02-16 08:51:18 -0500 (Mon, 16 Feb 2009) | 2 lines

Fix wrong format strings (fixes #1900, thx stepancheg)

------------------------------------------------------------------------
r2416 | stbuehler | 2009-03-07 16:28:22 -0500 (Sat, 07 Mar 2009) | 2 lines

Port some mod_rrdtool fixes from 1.4.x (#604, #419 and more)

------------------------------------------------------------------------
r2417 | stbuehler | 2009-03-07 16:34:26 -0500 (Sat, 07 Mar 2009) | 2 lines

New lighttpd man page (moved it to section 8) (fixes #1875)

------------------------------------------------------------------------
r2420 | stbuehler | 2009-03-31 13:15:35 -0400 (Tue, 31 Mar 2009) | 2 lines

Fix leaving zombie process with include_shell (#1777)

------------------------------------------------------------------------
r2422 | stbuehler | 2009-04-03 18:40:33 -0400 (Fri, 03 Apr 2009) | 2 lines

Finally removed spawn-fcgi

------------------------------------------------------------------------
r2424 | stbuehler | 2009-04-05 15:12:12 -0400 (Sun, 05 Apr 2009) | 10 lines

merge r1435
"www.example.com." is equivalent to "www.example.com".
The trailing dot just tells the resolver to script the searchlist.

If we want to match the hostname for conditionals/mod*vhost,
we need to strip it.

* src/request.c: (request_check_hostname) Decrement host_len to skip
  the trailing dot.

------------------------------------------------------------------------
r2429 | stbuehler | 2009-04-06 06:54:54 -0400 (Mon, 06 Apr 2009) | 2 lines

Allow xattr to overwrite mime type (fixes #1929)

------------------------------------------------------------------------
r2441 | stbuehler | 2009-04-09 15:41:46 -0400 (Thu, 09 Apr 2009) | 2 lines

Fix endless loop in ajp (fixes #1897)

------------------------------------------------------------------------
r2442 | stbuehler | 2009-04-09 15:41:50 -0400 (Thu, 09 Apr 2009) | 2 lines

Fix wrong pointer type in calloc (fixes #1947)

------------------------------------------------------------------------
r2443 | stbuehler | 2009-04-09 15:41:51 -0400 (Thu, 09 Apr 2009) | 2 lines

Fix segfault in mod_proxy_backend_http (fixes #1154)

------------------------------------------------------------------------
r2445 | stbuehler | 2009-04-09 16:05:50 -0400 (Thu, 09 Apr 2009) | 2 lines

Some small example-config update

------------------------------------------------------------------------
r2446 | stbuehler | 2009-04-09 17:10:13 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Fix base64 decoding in mod_auth (#1757)

------------------------------------------------------------------------
r2447 | stbuehler | 2009-04-09 17:10:17 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Compare address family in inet_ntop_cache

------------------------------------------------------------------------
r2448 | stbuehler | 2009-04-09 17:10:19 -0400 (Thu, 09 Apr 2009) | 2 lines

Revert url decoding+simplifying before matching of mod_rewrite/mod_redirect (#1720)

------------------------------------------------------------------------
r2449 | stbuehler | 2009-04-09 17:10:20 -0400 (Thu, 09 Apr 2009) | 2 lines

Check for gmtime_r in configure

------------------------------------------------------------------------
r2450 | stbuehler | 2009-04-09 17:10:21 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Fix wrong malloc sizes in mod_accesslog (probably nothing bad happened...) (#1855, thx ycheng)

------------------------------------------------------------------------
r2451 | stbuehler | 2009-04-09 17:10:22 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Some small buffer.c fixes (#1837)

------------------------------------------------------------------------
r2452 | stbuehler | 2009-04-09 17:10:24 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Disable SSLv2 by default

------------------------------------------------------------------------
r2453 | stbuehler | 2009-04-09 17:10:25 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Use/enforce sane max-connection values (#1803)

------------------------------------------------------------------------
r2454 | stbuehler | 2009-04-09 17:10:27 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Fix max-connection limit handling/100% cpu usage (#1436)

------------------------------------------------------------------------
r2455 | stbuehler | 2009-04-09 17:10:27 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Fix autogen.sh warning (gnu make extensions in doc/)

------------------------------------------------------------------------
r2456 | stbuehler | 2009-04-09 17:10:29 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Fix segfault if siginfo_t* is NULL in sigaction handler (#1926)

------------------------------------------------------------------------
r2457 | stbuehler | 2009-04-09 17:10:30 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Create rrd file for empty rrdfile in mod_rrdtool (#1788)

------------------------------------------------------------------------
r2458 | stbuehler | 2009-04-09 17:10:31 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Strip trailing dot from "Host:" header

------------------------------------------------------------------------
r2459 | stbuehler | 2009-04-09 17:10:33 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Remove the optional port info from SERVER_NAME (thx Mr_Bond)

------------------------------------------------------------------------
r2460 | stbuehler | 2009-04-09 17:10:34 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Fix "mod_indexfile(s)" typos (#1948)

------------------------------------------------------------------------
r2461 | stbuehler | 2009-04-09 17:10:36 -0400 (Thu, 09 Apr 2009) | 4 lines

merge: Rename configure.in to configure.ac, with small cleanups (#1932)

 * This should remove the need for calling ./autogen.sh after svn up

------------------------------------------------------------------------
r2462 | stbuehler | 2009-04-09 17:10:38 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Add proper SUID bit detection (#416)

------------------------------------------------------------------------
r2463 | stbuehler | 2009-04-09 17:10:38 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Fix hashing the terminating zero in etag.c

------------------------------------------------------------------------
r2464 | stbuehler | 2009-04-09 17:10:39 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Check for regular file in mod_cgi, so we don't try to start directories

------------------------------------------------------------------------
r2465 | stbuehler | 2009-04-09 17:10:40 -0400 (Thu, 09 Apr 2009) | 2 lines

merge: Include mmap.h from chunk.h to fix some problems with #define mmap mmap64 (#1923)

------------------------------------------------------------------------
r2476 | stbuehler | 2009-04-18 16:55:22 -0400 (Sat, 18 Apr 2009) | 2 lines

merge: Fix segfault for appending matched parts if there was no regex matching (just give empty strings) (#1601)

------------------------------------------------------------------------
r2488 | stbuehler | 2009-04-27 17:52:39 -0400 (Mon, 27 Apr 2009) | 2 lines

merge: fixed wrong result of buffer_caseless_compare("a", "ab") (#1287)

------------------------------------------------------------------------
r2489 | stbuehler | 2009-04-27 17:52:44 -0400 (Mon, 27 Apr 2009) | 2 lines

[cmake] add extra warning option

------------------------------------------------------------------------
r2490 | stbuehler | 2009-04-27 17:52:56 -0400 (Mon, 27 Apr 2009) | 2 lines

Fix many warnings

------------------------------------------------------------------------
r2491 | stbuehler | 2009-04-27 17:52:58 -0400 (Mon, 27 Apr 2009) | 2 lines

Fix lemon compiler warnings

------------------------------------------------------------------------
r2493 | stbuehler | 2009-04-28 14:27:02 -0400 (Tue, 28 Apr 2009) | 2 lines

Fix SERVER_NAME port stripping (fixes #1968)

------------------------------------------------------------------------
r2496 | stbuehler | 2009-04-28 14:30:56 -0400 (Tue, 28 Apr 2009) | 2 lines

Fix mod_cgi environment keys mangling (fixes #1969)

------------------------------------------------------------------------
r2500 | stbuehler | 2009-04-30 16:11:02 -0400 (Thu, 30 Apr 2009) | 2 lines

Fix missing stdio.h include (fixes #1971)

------------------------------------------------------------------------
r2501 | stbuehler | 2009-04-30 16:12:46 -0400 (Thu, 30 Apr 2009) | 2 lines

Change autoconf contact email

------------------------------------------------------------------------
r2504 | stbuehler | 2009-05-10 08:24:38 -0400 (Sun, 10 May 2009) | 2 lines

Fix max-age value in mod_expire for 'modification' (fixes #1978)

------------------------------------------------------------------------
r2512 | stbuehler | 2009-06-07 15:32:05 -0400 (Sun, 07 Jun 2009) | 2 lines

Allow using pcre with cross-compiling (pcre-config got fixed; fixes #1986)

------------------------------------------------------------------------
r2513 | stbuehler | 2009-06-10 02:28:37 -0400 (Wed, 10 Jun 2009) | 2 lines

Fix segfault with openssl (DoS, fixes #2003)

------------------------------------------------------------------------
r2514 | stbuehler | 2009-06-10 02:33:58 -0400 (Wed, 10 Jun 2009) | 2 lines

Improve chunkqueue cleanup (remove empty chunks after ssl failures)

------------------------------------------------------------------------
r2516 | stbuehler | 2009-06-10 09:09:52 -0400 (Wed, 10 Jun 2009) | 2 lines

Add "lighty.req_env" table to mod_magnet for setting/getting environment values for cgi (fixes #1967, thx presbrey)

------------------------------------------------------------------------
r2518 | stbuehler | 2009-06-10 10:32:46 -0400 (Wed, 10 Jun 2009) | 2 lines

Fix segfault in mod_expire after failed config parsing (fixes #1992)

------------------------------------------------------------------------
r2520 | stbuehler | 2009-06-10 10:59:44 -0400 (Wed, 10 Jun 2009) | 2 lines

Add ssi.content-type option (default text/html, fixes #615)

------------------------------------------------------------------------
r2521 | stbuehler | 2009-06-10 12:19:25 -0400 (Wed, 10 Jun 2009) | 2 lines

Fix distbuild (add mod-compress.conf to dist files)

------------------------------------------------------------------------
r2525 | stbuehler | 2009-06-11 05:54:07 -0400 (Thu, 11 Jun 2009) | 2 lines

Add support for "real" entropy from /dev/[u]random (fixes #1977)

------------------------------------------------------------------------
r2527 | stbuehler | 2009-06-11 06:11:41 -0400 (Thu, 11 Jun 2009) | 9 lines

Adding support for additional chars in LDAP usernames (fixes #1941)

Allowing LDAP entries to use the chracters ' ', '@', '-', '_',
and '.' in the user name attribute.  These characters do not
modify the behavior of the LDAP filter and are common in LDAP
user names.

Signed-off-by: David M. Syzdek <david@syzdek.net>

------------------------------------------------------------------------
r2529 | stbuehler | 2009-06-11 06:19:08 -0400 (Thu, 11 Jun 2009) | 2 lines

Ignore multiple "If-None-Match" headers (only use first one, fixes #753)

------------------------------------------------------------------------
r2533 | stbuehler | 2009-06-11 10:05:45 -0400 (Thu, 11 Jun 2009) | 2 lines

Fix 100% cpu usage if time() < 0 (thx to gaspa and cate, fixes #1964)

------------------------------------------------------------------------
r2535 | stbuehler | 2009-06-11 14:00:18 -0400 (Thu, 11 Jun 2009) | 2 lines

Free wakeup_iosocket (thx peto, fixes #1808)

------------------------------------------------------------------------
r2536 | stbuehler | 2009-06-11 14:00:23 -0400 (Thu, 11 Jun 2009) | 2 lines

Free ssl cipher list (thx peto, fixes #1809)

------------------------------------------------------------------------
r2537 | stbuehler | 2009-06-11 14:00:26 -0400 (Thu, 11 Jun 2009) | 2 lines

Add gthread-freebsd-sendfile (thx peto, fixes #1795)

------------------------------------------------------------------------
r2538 | stbuehler | 2009-06-11 14:00:28 -0400 (Thu, 11 Jun 2009) | 2 lines

Send gthread dummy pointers to wake them up for faster exit (thx peto, fixes #1812)

------------------------------------------------------------------------
r2539 | stbuehler | 2009-06-11 14:00:29 -0400 (Thu, 11 Jun 2009) | 2 lines

Fix race condition with joblist thread condition/mutex (thx peto, fixes #1823)

------------------------------------------------------------------------
r2541 | stbuehler | 2009-06-17 06:03:13 -0400 (Wed, 17 Jun 2009) | 2 lines

Fix segfault if there is no mimetype for the error documents

------------------------------------------------------------------------
r2551 | stbuehler | 2009-06-21 13:26:16 -0400 (Sun, 21 Jun 2009) | 2 lines

Use unsigned int for secdownload.timeout (fixes #1966)

------------------------------------------------------------------------
r2552 | stbuehler | 2009-06-21 13:26:22 -0400 (Sun, 21 Jun 2009) | 8 lines

Add server.breakagelog, a "special" stderr (fixes #1863)

* The breakage-log simply replaces stderr (the old stderr is moved away if needed for errorlog),
  and stderr isn't closed after forking.
  It defaults to stderr if started with -n (no daemonize), otherwise it defaults to /dev/null.
  It is _not_ reopened in log_error_cycle, as there may be many long running childs which have it
  still open anyway. Use a pipe-logger with cycle-support if you need it.

------------------------------------------------------------------------
r2554 | stbuehler | 2009-07-01 12:10:22 -0400 (Wed, 01 Jul 2009) | 2 lines

Silenced the annoying "request timed out" warning, enable with the "debug.log-timeouts" option (fixes #2018)

------------------------------------------------------------------------
r2556 | stbuehler | 2009-07-01 12:31:46 -0400 (Wed, 01 Jul 2009) | 2 lines

Hide some ssl errors per default, enable them with debug.log-ssl-noise (#397)

------------------------------------------------------------------------
r2557 | stbuehler | 2009-07-01 12:46:24 -0400 (Wed, 01 Jul 2009) | 2 lines

Reset some internal data for X-Rewrite (content-length, ...)

------------------------------------------------------------------------
r2559 | stbuehler | 2009-07-04 16:23:06 -0400 (Sat, 04 Jul 2009) | 2 lines

Add "cgi.execute-x-only" to mod_cgi, requires +x for cgi scripts (fixes #2013)

------------------------------------------------------------------------
r2560 | stbuehler | 2009-07-08 17:40:20 -0400 (Wed, 08 Jul 2009) | 2 lines

Fixed gthread-freebsd-sendfile (#1795)

------------------------------------------------------------------------
r2561 | stbuehler | 2009-07-09 18:53:58 -0400 (Thu, 09 Jul 2009) | 2 lines

tests: fix mod-rewrite.t if php is not available

------------------------------------------------------------------------
r2562 | stbuehler | 2009-07-09 19:06:06 -0400 (Thu, 09 Jul 2009) | 2 lines

cmake: check for strtoll

------------------------------------------------------------------------
r2563 | stbuehler | 2009-07-10 06:30:57 -0400 (Fri, 10 Jul 2009) | 2 lines

Fix type (ssize_t -> off_t) for gthread-freebsd-sendfile

------------------------------------------------------------------------
r2564 | stbuehler | 2009-07-10 10:59:29 -0400 (Fri, 10 Jul 2009) | 6 lines

Fix FD_SETSIZE comparision warnings on FreeBSD

* And again, FreeBSD sucks... it defines FD_SETSIZE as an unsigned integer,
  while every fd is signed.
  This obviously breaks thinks like assert(fd < FD_SETSIZE);

------------------------------------------------------------------------
r2565 | stbuehler | 2009-07-10 11:00:49 -0400 (Fri, 10 Jul 2009) | 2 lines

Fix unused function webdav_lockdiscovery in mod_webdav

------------------------------------------------------------------------
r2566 | stbuehler | 2009-07-10 11:15:02 -0400 (Fri, 10 Jul 2009) | 2 lines

Fix some warnings in mod_secure_download.c

------------------------------------------------------------------------
r2567 | stbuehler | 2009-07-10 11:42:00 -0400 (Fri, 10 Jul 2009) | 2 lines

Add "lua-5.1" to searched pkg-config names for lua

------------------------------------------------------------------------
r2568 | stbuehler | 2009-07-10 11:44:19 -0400 (Fri, 10 Jul 2009) | 2 lines

cmake: Fix crypt lib check; don't add pcre twice

------------------------------------------------------------------------
r2569 | stbuehler | 2009-07-10 11:49:26 -0400 (Fri, 10 Jul 2009) | 2 lines

cmake: Add -export-dynamic to link flags, fixes build on FreeBSD

------------------------------------------------------------------------
r2574 | stbuehler | 2009-07-10 12:29:38 -0400 (Fri, 10 Jul 2009) | 2 lines

Fix integer comparision in secdownload (was wrong in rev 2566)

------------------------------------------------------------------------
r2579 | stbuehler | 2009-07-11 05:19:57 -0400 (Sat, 11 Jul 2009) | 2 lines

Set FD_CLOEXEC for bound sockets before pipe-logger forks (fixes #2026)

------------------------------------------------------------------------
r2580 | stbuehler | 2009-07-11 05:20:25 -0400 (Sat, 11 Jul 2009) | 2 lines

Report non-fatal ssl errors as "connection close"

------------------------------------------------------------------------
r2584 | stbuehler | 2009-07-13 09:55:24 -0400 (Mon, 13 Jul 2009) | 2 lines

Add '%_' pattern for complete hostname in mod_evhost (fixes #1737)

------------------------------------------------------------------------
r2587 | stbuehler | 2009-07-14 08:58:02 -0400 (Tue, 14 Jul 2009) | 2 lines

Allow digits in hostnames in more places (fixes #1148)

------------------------------------------------------------------------
r2591 | stbuehler | 2009-07-16 19:25:33 -0400 (Thu, 16 Jul 2009) | 2 lines

Allow all comparisons for $SERVER["socket"] - only bind for "=="

------------------------------------------------------------------------
r2592 | stbuehler | 2009-07-21 04:09:10 -0400 (Tue, 21 Jul 2009) | 2 lines

Fix mod_deflate bzip2 compression level (thx peto, fixes #2035)

------------------------------------------------------------------------
r2601 | stbuehler | 2009-07-23 19:06:38 -0400 (Thu, 23 Jul 2009) | 2 lines

Add proxy-core.disable-time (used for all disable-times), default value 1 sec (fixes #1038)

------------------------------------------------------------------------
r2602 | stbuehler | 2009-07-23 19:06:49 -0400 (Thu, 23 Jul 2009) | 2 lines

Add proxy-core.max-backlog-size (set to 0 to disable backlog, thx e-razor)

------------------------------------------------------------------------
r2607 | stbuehler | 2009-08-02 12:58:43 -0400 (Sun, 02 Aug 2009) | 2 lines

Enable linux-aio-sendfile for testing in cmake again, fix a small bug in it

------------------------------------------------------------------------
r2609 | stbuehler | 2009-08-06 04:33:36 -0400 (Thu, 06 Aug 2009) | 2 lines

Set tm.tm_isdst = 0 before mktime() (fixes #2047)

------------------------------------------------------------------------
r2611 | stbuehler | 2009-08-10 14:17:23 -0400 (Mon, 10 Aug 2009) | 2 lines

Allow chunkqueue_skip to skip all types of chunks

------------------------------------------------------------------------
r2613 | stbuehler | 2009-08-12 14:27:28 -0400 (Wed, 12 Aug 2009) | 2 lines

Use linux-epoll by default if available (fixes #2021)

------------------------------------------------------------------------
r2617 | stbuehler | 2009-08-30 12:15:55 -0400 (Sun, 30 Aug 2009) | 5 lines

Fix some mem leaks found by cppcheck

 * only the one in sys-files.c is "critical" (and only on windows)


------------------------------------------------------------------------
r2623 | stbuehler | 2009-10-11 09:16:26 -0400 (Sun, 11 Oct 2009) | 1 line

Remember keep-alive-idle in separate variable (fixes #1988)
------------------------------------------------------------------------
r2649 | stbuehler | 2009-10-14 10:07:32 -0400 (Wed, 14 Oct 2009) | 7 lines

Add TLS servername indication (SNI) support (fixes #386, thx Peter Colberg <peter@colberg.org>)

* This patch may "break" some configs, if they do stupid things. Like setting
  ssl.pemfile to a not existing file in a "non-socket/non-ssl" block.
  Fix them! :)

From: Peter Colberg <peter@colberg.org>
------------------------------------------------------------------------
r2653 | stbuehler | 2009-10-14 13:49:15 -0400 (Wed, 14 Oct 2009) | 1 line

Fix compile error if TLS SNI isn't supported
------------------------------------------------------------------------
r2655 | stbuehler | 2009-10-14 14:19:54 -0400 (Wed, 14 Oct 2009) | 1 line

Add SSL Client Certificate verification (#1288)
------------------------------------------------------------------------
r2658 | stbuehler | 2009-10-16 05:02:58 -0400 (Fri, 16 Oct 2009) | 1 line

stat-cache: verify that entries are still fresh
------------------------------------------------------------------------
r2659 | stbuehler | 2009-10-16 05:03:03 -0400 (Fri, 16 Oct 2009) | 1 line

Fix con-state machine error handling (leave states after errors)
------------------------------------------------------------------------
r2661 | stbuehler | 2009-10-16 12:43:52 -0400 (Fri, 16 Oct 2009) | 1 line

mod_accesslog: escape special characters (fixes #1551, thx icy)
------------------------------------------------------------------------
r2662 | stbuehler | 2009-10-16 14:54:02 -0400 (Fri, 16 Oct 2009) | 1 line

Fix accesslog escape segfault (#1551)
------------------------------------------------------------------------
r2663 | stbuehler | 2009-10-16 14:54:10 -0400 (Fri, 16 Oct 2009) | 1 line

tests: improve test system (RUNTESTS, bt full)
------------------------------------------------------------------------
r2667 | stbuehler | 2009-10-16 18:06:31 -0400 (Fri, 16 Oct 2009) | 1 line

Don't print ssl error if client didn't support TLS SNI
------------------------------------------------------------------------
r2671 | stbuehler | 2009-10-20 06:17:06 -0400 (Tue, 20 Oct 2009) | 1 line

Fix build errors when ssl is disabled
------------------------------------------------------------------------
r2672 | stbuehler | 2009-10-25 13:32:19 -0400 (Sun, 25 Oct 2009) | 1 line

Reopen out stream in X-Rewrite (fixes #1678)
------------------------------------------------------------------------
r2673 | stbuehler | 2009-10-25 13:32:27 -0400 (Sun, 25 Oct 2009) | 3 lines

Remove joblist thread, don't use timed pops for async queues

* Less spam in strace, should result in less overhead with joblist queue
------------------------------------------------------------------------
r2674 | stbuehler | 2009-10-25 13:32:35 -0400 (Sun, 25 Oct 2009) | 3 lines

Fix mod_cgi hang on "crash-before-header-sent" bug

* connection gets killed by timeout
------------------------------------------------------------------------
r2675 | stbuehler | 2009-10-25 13:32:42 -0400 (Sun, 25 Oct 2009) | 1 line

tests: Fix undefined var warning
------------------------------------------------------------------------
r2676 | stbuehler | 2009-10-25 13:32:50 -0400 (Sun, 25 Oct 2009) | 1 line

Set content-length in mod_compress (fixes #2089, thx liming)
------------------------------------------------------------------------
r2677 | stbuehler | 2009-10-25 13:45:56 -0400 (Sun, 25 Oct 2009) | 1 line

Mark recv-queue closed if backend connection got closed in mod_proxy_core (fixes #2090, thx liming)
------------------------------------------------------------------------
r2682 | stbuehler | 2009-10-26 11:12:18 -0400 (Mon, 26 Oct 2009) | 1 line

mod_magnet: add traceback for printing lua errors
------------------------------------------------------------------------
r2689 | stbuehler | 2009-11-05 16:47:05 -0500 (Thu, 05 Nov 2009) | 1 line

export some SSL_CLIENT_* vars for client cert validation (fixes #1288, thx presbrey)
------------------------------------------------------------------------
r2690 | stbuehler | 2009-11-05 16:53:43 -0500 (Thu, 05 Nov 2009) | 1 line

reset tlsext_server_name in connection_reset - fixes random hostnames in the $HTTP["host"] conditional
------------------------------------------------------------------------
r2698 | stbuehler | 2009-12-02 12:09:25 -0500 (Wed, 02 Dec 2009) | 1 line

Accept ":" in the reason-phrase of a status-line
------------------------------------------------------------------------
r2700 | stbuehler | 2009-12-14 10:58:50 -0500 (Mon, 14 Dec 2009) | 1 line

mod_accesslog: support %e (fixes #2113, thx presbrey)
------------------------------------------------------------------------
r2701 | stbuehler | 2009-12-31 07:02:53 -0500 (Thu, 31 Dec 2009) | 1 line

Require at least glib 2.10.0 for g_atomic_int_set (fixes #2127)
------------------------------------------------------------------------
r2705 | stbuehler | 2010-01-26 16:58:57 -0500 (Tue, 26 Jan 2010) | 1 line

Fix select() backend under high load (off-by-one, noticed by Manuel Scharf in a forum thread)
------------------------------------------------------------------------
r2709 | stbuehler | 2010-01-30 16:32:18 -0500 (Sat, 30 Jan 2010) | 1 line

Update NEWS file
------------------------------------------------------------------------
r2711 | stbuehler | 2010-02-01 18:29:15 -0500 (Mon, 01 Feb 2010) | 1 line

Append to previous buffer in con read (fixes #2147, found by liming, CVE-2010-0295)
------------------------------------------------------------------------
r2717 | stbuehler | 2010-02-28 06:49:22 -0500 (Sun, 28 Feb 2010) | 1 line

Fix handling return value of SSL_CTX_set_options (fixes #2157, thx mlcreech)
------------------------------------------------------------------------
r2726 | glen | 2010-05-28 11:36:44 -0400 (Fri, 28 May 2010) | 2 lines

- Print double quotes properly when dumping config file (fixes #1806)

------------------------------------------------------------------------
r2728 | glen | 2010-05-28 11:54:53 -0400 (Fri, 28 May 2010) | 2 lines

- Include IP addresses on error log on password failures (fixes #2191)

------------------------------------------------------------------------
r2746 | stbuehler | 2010-08-05 15:22:41 -0400 (Thu, 05 Aug 2010) | 1 line

Add some more people to AUTHORS list
------------------------------------------------------------------------
r2774 | stbuehler | 2010-12-30 09:39:29 -0500 (Thu, 30 Dec 2010) | 1 line

reset srv->did_wakeup immediately after fdevent_poll
------------------------------------------------------------------------
r2775 | stbuehler | 2010-12-30 09:39:32 -0500 (Thu, 30 Dec 2010) | 1 line

[mod_postgresql_vhost] replace index() with strchr()
------------------------------------------------------------------------
r2776 | stbuehler | 2010-12-30 09:39:35 -0500 (Thu, 30 Dec 2010) | 1 line

Fix some warnings
------------------------------------------------------------------------
r2781 | glen | 2011-03-25 13:07:41 -0400 (Fri, 25 Mar 2011) | 3 lines

- Combine Cache-Control header value in mod_expire to existing HTTP header if header already added by other modules (fixes #2068)


------------------------------------------------------------------------
r2782 | stbuehler | 2011-03-30 13:30:38 -0400 (Wed, 30 Mar 2011) | 1 line

Fix conditional interpretation of core options
------------------------------------------------------------------------
r2783 | stbuehler | 2011-03-31 15:38:15 -0400 (Thu, 31 Mar 2011) | 1 line

proxy-backend-http: fix chunked encoding parser
------------------------------------------------------------------------
r2784 | stbuehler | 2011-03-31 15:38:18 -0400 (Thu, 31 Mar 2011) | 8 lines

tests: server.name is allowed to overwrite hostname from mod_simple_vhost

 * not the same as doc-root: doc-root has always to be set,
   server.name does not
Background:
 the doc-root option is only patched to the conf struct; the real
  doc-root has a separate value in the connection data.
 server-name is patched directly into the connection data.
------------------------------------------------------------------------
r2785 | stbuehler | 2011-03-31 15:52:51 -0400 (Thu, 31 Mar 2011) | 1 line

more strict check for server.stat-cache-engine
------------------------------------------------------------------------
r2786 | stbuehler | 2011-04-04 18:39:05 -0400 (Mon, 04 Apr 2011) | 1 line

Read hostname from absolute https:// uris in the request line (patch by Adrian Schröter <adrian@suse.de>)
------------------------------------------------------------------------
r2791 | stbuehler | 2011-04-24 12:20:06 -0400 (Sun, 24 Apr 2011) | 1 line

[ssl/md5] prefix our own md5 implementation with li_ so it doesn't conflict with the openssl one (fixes #2269)
------------------------------------------------------------------------
r2792 | stbuehler | 2011-05-05 16:06:11 -0400 (Thu, 05 May 2011) | 1 line

Enable linux-aio-sendfile for testing in autotools too
------------------------------------------------------------------------
r2807 | stbuehler | 2011-11-29 17:27:23 -0500 (Tue, 29 Nov 2011) | 1 line

[mod_auth] Fix signedness error in http_auth (fixes #2370, CVE-2011-4362)
------------------------------------------------------------------------
r2829 | stbuehler | 2012-04-08 04:02:51 -0400 (Sun, 08 Apr 2012) | 1 line

buffer_caseless_compare: always convert letters to lowercase to get transitive results, fixing array lookups (fixes #2405)
------------------------------------------------------------------------
